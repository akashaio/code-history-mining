<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta name="description" content="JUnit code history"/>

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>JUnit code history</title>
    <style>
        #calendar-view {
            shape-rendering: crispEdges;
            background: #f2f2f2;
            font: 10px sans-serif;
            font-family: 'Lucida Grande','Calibri',Helvetica,Arial,sans-serif;
        }
        .day {
            fill: #fff;
            stroke: #ccc;
        }
        .month {
            fill: none;
            stroke: #000;
            stroke-width: 2px;
        }
            /* colors from colorbrewer2.org */
        .calendar-view .q0-8{fill: rgb(247, 251, 255)}
        .calendar-view .q1-8{fill: rgb(222, 235, 247)}
        .calendar-view .q2-8{fill: rgb(198, 219, 239)}
        .calendar-view .q3-8{fill: rgb(158, 202, 225)}
        .calendar-view .q4-8{fill: rgb(107, 174, 214)}
        .calendar-view .q5-8{fill: rgb(66, 146, 198)}
        .calendar-view .q6-8{fill: rgb(33, 113, 181)}
        .calendar-view .q7-8{fill: rgb(8, 81, 156)}
    </style>
    <style>
        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }
        .bar {
            fill: steelblue;
        }
        .bar:hover {
            fill: rgb(62, 104, 146);
        }
        .line {
            fill: none;
            stroke-width: 1.5px;
            stroke: #b2182b;
        }
        .brush .extent {
            stroke: #fff;
            fill-opacity: .125;
            shape-rendering: crispEdges;
        }
    </style>
    <style>
        #changes-size-view {
            font: 10px sans-serif;
        }
        .axis path,
        .axis line {
            fill: none;
            stroke: #000;
            shape-rendering: crispEdges;
        }
        .bar {
            fill: steelblue;
        }
        .bar:hover {
            fill: rgb(62, 104, 146);
        }
        .brush .extent {
            stroke: #fff;
            fill-opacity: .125;
            shape-rendering: crispEdges;
        }
    </style>
    <style>
        #files-in-same-commit-graph {
            shape-rendering: crispEdges;
            background: #f2f2f2;
            font: 10px sans-serif;
            font-family: 'Lucida Grande','Calibri',Helvetica,Arial,sans-serif;
        }
        .node {
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .link {
            stroke: #999;
            stroke-opacity: .6;
        }
        div.tooltip {
            position: absolute;
            text-align: center;
            height: auto;
            padding: 5px;
            font: 12px sans-serif;
            background: lightsteelblue;
            border: 0;
            border-radius: 8px;
            pointer-events: none;
        }
        div.selectedNodesLabel {
            position: absolute;
            text-align: left;
            height: auto;
            padding: 5px;
            font: 12px sans-serif;
            background: lightsteelblue;
            border: 0;
            border-radius: 8px;
            pointer-events: none;
        }
    </style>
</head>

<body>
<!-- HEADER -->
<div id="header_wrap" class="outer" style="max-height: 120px">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/dkandalov/delta-flora-for-intellij">View on GitHub</a>
        <h1 id="project_title">JUnit code history</h1>
        <h2 id="project_tagline"></h2>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
        <p>
            This is visualization of <a href="https://github.com/junit-team/junit">JUnit</a> code history using
            this <a href="https://github.com/dkandalov/code-history-mining">IntelliJ plugin</a>.
            It's not exactly output of the plugin but a combination of all visualizations.

            (Based on this <a href="http://dl.dropboxusercontent.com/u/4965784/junit-file-events.csv">csv file</a>.)
        </p>

        <h6>Changes calendar view (almost GitHub-style)</h6>
        <p id="calendar-view"></p>
        <br/>
        <h6>Changes size chart</h6>
        <p id="changes-size-view"></p>
        <br/>
        <h6>Files changed in the same commit</h6>
        This only includes files which changed in the same commit more than 7 times.
        Thickness of edges is correlated with the number of commits.
        <p id="files-in-same-commit-graph"></p>

        <h6>Word cloud for commit messages</h6>
        Not here yet.

        <h6>Commit heatmap (days broken into hours)</h6>
        Not here yet.

        <h6>Treemap of changes size / frequency</h6>
        Stuck in the queue.

        <h6>Some fancy graph with committers and files</h6>
        Does not exist :(

        <h6>Method complexity vs amount of changes scatterplot</h6>
        TODO

        <h6>Histograms of everything</h6>
        Would be nice.

    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">Please feel free to drop <a href="https://twitter.com/dmitrykandalov">me</a> a line or add on
            <a href="https://github.com/dkandalov">GitHub</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>

<script src="html/d3.v3.min.js"></script>

<script>
var calendarViewRawData = ["\
date,changeSize\n\
09/01/2001,1\n\
10/01/2001,1\n\
17/01/2001,2\n\
18/01/2001,2\n\
01/04/2001,1\n\
08/04/2001,1\n\
21/05/2001,2\n\
08/07/2001,1\n\
09/07/2001,3\n\
02/10/2001,1\n\
19/10/2001,1\n\
20/10/2001,2\n\
21/10/2001,3\n\
22/10/2001,1\n\
24/10/2001,3\n\
25/10/2001,1\n\
27/10/2001,1\n\
29/10/2001,2\n\
30/10/2001,1\n\
31/10/2001,1\n\
02/11/2001,1\n\
03/11/2001,1\n\
10/11/2001,1\n\
12/11/2001,1\n\
24/12/2001,1\n\
07/01/2002,1\n\
16/01/2002,3\n\
05/02/2002,5\n\
06/02/2002,4\n\
14/02/2002,3\n\
28/03/2002,1\n\
29/03/2002,1\n\
30/03/2002,3\n\
31/03/2002,3\n\
01/04/2002,1\n\
02/04/2002,1\n\
07/04/2002,1\n\
08/04/2002,2\n\
09/04/2002,2\n\
10/04/2002,2\n\
12/04/2002,3\n\
27/04/2002,2\n\
14/06/2002,1\n\
18/06/2002,1\n\
20/06/2002,1\n\
22/06/2002,2\n\
24/06/2002,3\n\
25/06/2002,3\n\
26/06/2002,1\n\
27/06/2002,1\n\
25/07/2002,1\n\
19/08/2002,1\n\
23/08/2002,2\n\
24/08/2002,2\n\
30/08/2002,1\n\
31/08/2002,7\n\
01/09/2002,3\n\
02/09/2002,1\n\
13/11/2002,1\n\
19/12/2002,1\n\
28/01/2003,1\n\
28/02/2003,1\n\
20/03/2003,1\n\
22/04/2003,1\n\
25/05/2003,1\n\
10/12/2003,1\n\
20/12/2003,2\n\
21/12/2003,1\n\
25/12/2003,1\n\
11/02/2004,1\n\
01/06/2004,1\n\
01/09/2004,1\n\
03/09/2004,1\n\
09/09/2004,1\n\
10/09/2004,1\n\
11/09/2004,1\n\
18/09/2004,1\n\
23/09/2004,1\n\
11/10/2004,1\n\
22/10/2004,2\n\
23/10/2004,7\n\
24/10/2004,3\n\
28/10/2004,1\n\
13/11/2004,2\n\
17/11/2004,7\n\
28/12/2004,2\n\
15/02/2006,1\n\
16/02/2006,1\n\
17/02/2006,1\n\
19/02/2006,1\n\
20/02/2006,2\n\
24/02/2006,1\n\
27/02/2006,1\n\
08/03/2006,1\n\
10/03/2006,1\n\
14/03/2006,2\n\
15/03/2006,1\n\
16/03/2006,2\n\
17/03/2006,1\n\
23/03/2006,1\n\
27/04/2006,2\n\
30/05/2006,1\n\
01/06/2006,1\n\
24/06/2006,1\n\
28/06/2006,1\n\
29/06/2006,1\n\
30/06/2006,1\n\
21/07/2006,1\n\
03/08/2006,1\n\
25/08/2006,4\n\
30/09/2006,1\n\
05/10/2006,2\n\
02/11/2006,1\n\
16/11/2006,1\n\
17/11/2006,1\n\
20/11/2006,1\n\
21/11/2006,2\n\
22/11/2006,1\n\
30/11/2006,2\n\
06/12/2006,1\n\
13/12/2006,1\n\
27/12/2006,2\n\
24/01/2007,1\n\
26/01/2007,1\n\
08/02/2007,2\n\
21/02/2007,7\n\
27/02/2007,3\n\
02/03/2007,1\n\
04/03/2007,1\n\
07/03/2007,2\n\
10/03/2007,1\n\
20/03/2007,2\n\
22/03/2007,1\n\
26/04/2007,2\n\
08/05/2007,2\n\
31/05/2007,1\n\
02/07/2007,2\n\
06/07/2007,1\n\
09/07/2007,3\n\
12/07/2007,4\n\
16/07/2007,1\n\
17/07/2007,1\n\
18/07/2007,4\n\
19/07/2007,2\n\
20/07/2007,1\n\
06/08/2007,1\n\
13/08/2007,2\n\
15/08/2007,1\n\
20/08/2007,3\n\
27/08/2007,1\n\
04/09/2007,1\n\
28/09/2007,1\n\
03/10/2007,3\n\
05/10/2007,3\n\
08/10/2007,3\n\
09/10/2007,4\n\
10/10/2007,4\n\
12/10/2007,4\n\
13/10/2007,1\n\
16/10/2007,1\n\
24/10/2007,1\n\
31/10/2007,1\n\
05/11/2007,1\n\
07/11/2007,2\n\
14/11/2007,2\n\
21/11/2007,1\n\
26/11/2007,2\n\
27/11/2007,2\n\
05/12/2007,14\n\
07/12/2007,28\n\
08/12/2007,4\n\
10/12/2007,7\n\
11/12/2007,1\n\
13/12/2007,8\n\
16/12/2007,2\n\
28/12/2007,3\n\
30/12/2007,1\n\
04/01/2008,1\n\
10/01/2008,6\n\
16/01/2008,1\n\
21/01/2008,1\n\
25/01/2008,4\n\
05/02/2008,2\n\
14/02/2008,1\n\
19/03/2008,1\n\
20/03/2008,1\n\
07/04/2008,1\n\
06/05/2008,1\n\
07/05/2008,1\n\
12/05/2008,3\n\
13/05/2008,1\n\
29/05/2008,3\n\
03/06/2008,2\n\
09/06/2008,1\n\
10/06/2008,4\n\
16/06/2008,1\n\
24/06/2008,1\n\
26/06/2008,3\n\
01/07/2008,2\n\
09/07/2008,1\n\
10/07/2008,4\n\
16/07/2008,1\n\
22/07/2008,3\n\
23/07/2008,6\n\
29/07/2008,3\n\
30/07/2008,5\n\
31/07/2008,7\n\
01/08/2008,3\n\
05/08/2008,1\n\
06/08/2008,1\n\
08/08/2008,3\n\
11/08/2008,2\n\
18/08/2008,3\n\
19/08/2008,3\n\
05/09/2008,1\n\
09/09/2008,2\n\
24/09/2008,1\n\
17/10/2008,1\n\
23/10/2008,2\n\
28/10/2008,3\n\
31/10/2008,1\n\
06/11/2008,1\n\
12/11/2008,1\n\
13/11/2008,2\n\
18/11/2008,2\n\
22/11/2008,1\n\
20/12/2008,1\n\
06/01/2009,1\n\
13/01/2009,1\n\
28/01/2009,1\n\
03/02/2009,1\n\
10/02/2009,6\n\
24/02/2009,1\n\
03/03/2009,3\n\
10/03/2009,3\n\
12/03/2009,1\n\
06/04/2009,2\n\
07/04/2009,5\n\
14/04/2009,3\n\
16/04/2009,1\n\
17/04/2009,1\n\
18/04/2009,3\n\
20/04/2009,12\n\
28/04/2009,3\n\
29/04/2009,15\n\
30/04/2009,2\n\
04/05/2009,9\n\
05/05/2009,18\n\
06/05/2009,4\n\
07/05/2009,1\n\
08/05/2009,1\n\
11/05/2009,4\n\
12/05/2009,13\n\
13/05/2009,1\n\
26/05/2009,2\n\
27/05/2009,18\n\
29/05/2009,12\n\
01/06/2009,6\n\
02/06/2009,6\n\
04/06/2009,3\n\
16/06/2009,6\n\
01/07/2009,4\n\
02/07/2009,1\n\
07/07/2009,19\n\
08/07/2009,2\n\
16/07/2009,4\n\
17/07/2009,1\n\
20/07/2009,2\n\
21/07/2009,5\n\
28/07/2009,1\n\
31/07/2009,1\n\
20/08/2009,1\n\
21/08/2009,1\n\
20/09/2009,2\n\
23/09/2009,1\n\
05/10/2009,1\n\
13/10/2009,2\n\
19/10/2009,5\n\
20/10/2009,10\n\
27/10/2009,2\n\
17/11/2009,3\n\
24/11/2009,1\n\
01/12/2009,1\n\
03/12/2009,1\n\
08/12/2009,4\n\
18/12/2009,4\n\
22/12/2009,4\n\
23/12/2009,1\n\
05/01/2010,3\n\
21/01/2010,5\n\
26/01/2010,1\n\
01/02/2010,1\n\
03/02/2010,1\n\
09/02/2010,2\n\
26/02/2010,1\n\
09/03/2010,1\n\
05/04/2010,4\n\
06/04/2010,4\n\
08/04/2010,12\n\
13/04/2010,1\n\
14/04/2010,1\n\
04/05/2010,1\n\
06/05/2010,4\n\
12/05/2010,2\n\
20/05/2010,2\n\
31/08/2010,1\n\
13/10/2010,2\n\
26/10/2010,3\n\
09/11/2010,3\n\
13/11/2010,1\n\
16/11/2010,1\n\
28/12/2010,1\n\
03/01/2011,7\n\
05/01/2011,3\n\
07/01/2011,7\n\
08/01/2011,4\n\
11/01/2011,4\n\
12/01/2011,2\n\
18/01/2011,5\n\
19/01/2011,2\n\
20/01/2011,2\n\
03/02/2011,1\n\
10/02/2011,1\n\
04/03/2011,2\n\
24/03/2011,1\n\
02/04/2011,1\n\
03/04/2011,1\n\
04/04/2011,1\n\
15/04/2011,6\n\
29/04/2011,3\n\
19/05/2011,1\n\
31/05/2011,3\n\
01/06/2011,1\n\
07/06/2011,1\n\
14/06/2011,1\n\
17/06/2011,1\n\
24/06/2011,1\n\
25/06/2011,1\n\
28/06/2011,1\n\
05/07/2011,1\n\
06/07/2011,6\n\
07/07/2011,1\n\
09/07/2011,7\n\
12/07/2011,2\n\
13/07/2011,4\n\
14/07/2011,1\n\
16/07/2011,3\n\
28/07/2011,1\n\
06/08/2011,1\n\
08/08/2011,1\n\
09/08/2011,5\n\
10/08/2011,3\n\
11/08/2011,11\n\
12/08/2011,1\n\
20/08/2011,1\n\
22/08/2011,1\n\
26/08/2011,2\n\
08/09/2011,6\n\
09/09/2011,2\n\
13/09/2011,3\n\
14/09/2011,3\n\
15/09/2011,1\n\
18/09/2011,2\n\
19/09/2011,2\n\
21/09/2011,1\n\
22/09/2011,3\n\
23/09/2011,2\n\
27/09/2011,2\n\
28/09/2011,2\n\
29/09/2011,2\n\
05/10/2011,1\n\
07/10/2011,1\n\
16/10/2011,1\n\
17/10/2011,1\n\
18/10/2011,1\n\
21/10/2011,1\n\
11/11/2011,1\n\
28/11/2011,1\n\
03/01/2012,3\n\
17/01/2012,1\n\
19/01/2012,1\n\
31/01/2012,2\n\
02/02/2012,1\n\
03/02/2012,1\n\
08/02/2012,1\n\
15/02/2012,2\n\
16/02/2012,1\n\
19/02/2012,1\n\
21/02/2012,1\n\
02/03/2012,1\n\
05/03/2012,2\n\
06/03/2012,1\n\
09/03/2012,1\n\
10/03/2012,1\n\
21/03/2012,3\n\
22/03/2012,1\n\
29/03/2012,2\n\
30/03/2012,1\n\
03/04/2012,6\n\
04/04/2012,2\n\
06/04/2012,1\n\
09/04/2012,4\n\
10/04/2012,1\n\
12/04/2012,4\n\
14/04/2012,3\n\
19/04/2012,1\n\
21/04/2012,2\n\
22/04/2012,1\n\
23/04/2012,2\n\
25/04/2012,1\n\
27/04/2012,1\n\
28/04/2012,1\n\
09/05/2012,1\n\
10/05/2012,2\n\
18/05/2012,1\n\
21/05/2012,2\n\
22/05/2012,3\n\
24/05/2012,3\n\
25/05/2012,4\n\
27/05/2012,1\n\
29/05/2012,1\n\
30/05/2012,3\n\
31/05/2012,2\n\
01/06/2012,2\n\
03/06/2012,2\n\
04/06/2012,1\n\
15/06/2012,1\n\
19/06/2012,1\n\
20/06/2012,1\n\
21/06/2012,1\n\
23/06/2012,1\n\
24/06/2012,3\n\
25/06/2012,2\n\
30/06/2012,1\n\
15/07/2012,4\n\
19/07/2012,8\n\
20/07/2012,6\n\
02/08/2012,2\n\
03/08/2012,1\n\
10/08/2012,1\n\
12/08/2012,3\n\
13/08/2012,2\n\
17/08/2012,3\n\
18/08/2012,1\n\
20/08/2012,4\n\
21/08/2012,2\n\
22/08/2012,2\n\
27/08/2012,1\n\
06/09/2012,7\n\
08/09/2012,1\n\
12/09/2012,1\n\
13/09/2012,1\n\
14/09/2012,1\n\
17/09/2012,1\n\
19/09/2012,1\n\
20/09/2012,2\n\
21/09/2012,4\n\
22/09/2012,3\n\
23/09/2012,3\n\
24/09/2012,1\n\
26/09/2012,1\n\
27/09/2012,2\n\
28/09/2012,2\n\
29/09/2012,2\n\
01/10/2012,2\n\
04/10/2012,1\n\
05/10/2012,1\n\
11/10/2012,1\n\
15/10/2012,2\n\
16/10/2012,2\n\
21/10/2012,7\n\
24/10/2012,4\n\
07/11/2012,1\n\
10/11/2012,2\n\
11/11/2012,1\n\
12/11/2012,5\n\
13/11/2012,3\n\
14/11/2012,4\n\
15/11/2012,4\n\
16/11/2012,6\n\
17/11/2012,7\n\
18/11/2012,6\n\
19/11/2012,6\n\
20/11/2012,3\n\
23/11/2012,1\n\
03/12/2012,2\n\
04/12/2012,2\n\
05/12/2012,3\n\
06/12/2012,2\n\
09/12/2012,1\n\
10/12/2012,6\n\
11/12/2012,2\n\
12/12/2012,1\n\
18/12/2012,1\n\
22/12/2012,4\n\
23/12/2012,8\n\
24/12/2012,1\n\
28/12/2012,1\n\
03/01/2013,4\n\
04/01/2013,3\n\
05/01/2013,1\n\
07/01/2013,7\n\
08/01/2013,5\n\
09/01/2013,1\n\
12/01/2013,3\n\
13/01/2013,7\n\
15/01/2013,2\n\
16/01/2013,2\n\
17/01/2013,12\n\
18/01/2013,2\n\
28/01/2013,2\n\
31/01/2013,1\n\
05/02/2013,5\n\
06/02/2013,3\n\
09/02/2013,2\n\
12/02/2013,2\n\
15/02/2013,1\n\
17/02/2013,1\n\
19/02/2013,1\n\
03/03/2013,1\n\
06/03/2013,1\n\
07/03/2013,1\n\
10/03/2013,1\n\
11/03/2013,1\n\
13/03/2013,2\n\
14/03/2013,2\n\
16/03/2013,3\n\
17/03/2013,3\n\
18/03/2013,1\n\
19/03/2013,1\n\
22/03/2013,1\n\
31/03/2013,1\n\
01/04/2013,2\n\
06/04/2013,1\n\
07/04/2013,2\n\
08/05/2013,3\n\
09/05/2013,1\n\
","\
date,changeSize\n\
09/01/2001,2428\n\
10/01/2001,87\n\
17/01/2001,21\n\
18/01/2001,61\n\
01/04/2001,305\n\
08/04/2001,721\n\
21/05/2001,390\n\
08/07/2001,0\n\
09/07/2001,6\n\
02/10/2001,77\n\
19/10/2001,54\n\
20/10/2001,4\n\
21/10/2001,169\n\
22/10/2001,40\n\
24/10/2001,142\n\
25/10/2001,18\n\
27/10/2001,14\n\
29/10/2001,7\n\
30/10/2001,3\n\
31/10/2001,1\n\
02/11/2001,6\n\
03/11/2001,4\n\
10/11/2001,151\n\
12/11/2001,33\n\
24/12/2001,25\n\
07/01/2002,11\n\
16/01/2002,9\n\
05/02/2002,199\n\
06/02/2002,45\n\
14/02/2002,43\n\
28/03/2002,0\n\
29/03/2002,270\n\
30/03/2002,379\n\
31/03/2002,38\n\
01/04/2002,74\n\
02/04/2002,1\n\
07/04/2002,0\n\
08/04/2002,74\n\
09/04/2002,95\n\
10/04/2002,94\n\
12/04/2002,265\n\
27/04/2002,10\n\
14/06/2002,160\n\
18/06/2002,7\n\
20/06/2002,74\n\
22/06/2002,196\n\
24/06/2002,3\n\
25/06/2002,146\n\
26/06/2002,1\n\
27/06/2002,33\n\
25/07/2002,1810\n\
19/08/2002,1\n\
23/08/2002,368\n\
24/08/2002,2\n\
30/08/2002,20\n\
31/08/2002,104\n\
01/09/2002,338\n\
02/09/2002,18\n\
13/11/2002,23\n\
19/12/2002,59\n\
28/01/2003,90\n\
28/02/2003,32\n\
20/03/2003,64\n\
22/04/2003,21\n\
25/05/2003,1\n\
10/12/2003,4\n\
20/12/2003,6\n\
21/12/2003,0\n\
25/12/2003,1\n\
11/02/2004,56\n\
01/06/2004,6\n\
01/09/2004,1\n\
03/09/2004,16\n\
09/09/2004,131\n\
10/09/2004,24\n\
11/09/2004,12\n\
18/09/2004,34\n\
23/09/2004,4\n\
11/10/2004,21\n\
22/10/2004,148\n\
23/10/2004,112\n\
24/10/2004,281\n\
28/10/2004,15\n\
13/11/2004,4\n\
17/11/2004,419\n\
28/12/2004,1505\n\
15/02/2006,34868\n\
16/02/2006,22974\n\
17/02/2006,59\n\
19/02/2006,1\n\
20/02/2006,98\n\
24/02/2006,3\n\
27/02/2006,7\n\
08/03/2006,1\n\
10/03/2006,93\n\
14/03/2006,110\n\
15/03/2006,28\n\
16/03/2006,6\n\
17/03/2006,1\n\
23/03/2006,1\n\
27/04/2006,29\n\
30/05/2006,1\n\
01/06/2006,57\n\
24/06/2006,17\n\
28/06/2006,32\n\
29/06/2006,1\n\
30/06/2006,43\n\
21/07/2006,30\n\
03/08/2006,87\n\
25/08/2006,426\n\
30/09/2006,12\n\
05/10/2006,10\n\
02/11/2006,50\n\
16/11/2006,85\n\
17/11/2006,0\n\
20/11/2006,0\n\
21/11/2006,156\n\
22/11/2006,0\n\
30/11/2006,2\n\
06/12/2006,153\n\
13/12/2006,33\n\
27/12/2006,486\n\
24/01/2007,704\n\
26/01/2007,3\n\
08/02/2007,48\n\
21/02/2007,305\n\
27/02/2007,160\n\
02/03/2007,66\n\
04/03/2007,1\n\
07/03/2007,37\n\
10/03/2007,196\n\
20/03/2007,632\n\
22/03/2007,17\n\
26/04/2007,406\n\
08/05/2007,4\n\
31/05/2007,1\n\
02/07/2007,2346\n\
06/07/2007,203\n\
09/07/2007,362\n\
12/07/2007,529\n\
16/07/2007,170\n\
17/07/2007,15\n\
18/07/2007,811\n\
19/07/2007,1595\n\
20/07/2007,385\n\
06/08/2007,1\n\
13/08/2007,288\n\
15/08/2007,141\n\
20/08/2007,252\n\
27/08/2007,21\n\
04/09/2007,1097\n\
28/09/2007,25\n\
03/10/2007,496\n\
05/10/2007,389\n\
08/10/2007,1768\n\
09/10/2007,256\n\
10/10/2007,665\n\
12/10/2007,951\n\
13/10/2007,138\n\
16/10/2007,88\n\
24/10/2007,1\n\
31/10/2007,375\n\
05/11/2007,30\n\
07/11/2007,194\n\
14/11/2007,262\n\
21/11/2007,18\n\
26/11/2007,53\n\
27/11/2007,746\n\
05/12/2007,184\n\
07/12/2007,1057\n\
08/12/2007,94\n\
10/12/2007,146\n\
11/12/2007,2\n\
13/12/2007,566\n\
16/12/2007,33\n\
28/12/2007,27\n\
30/12/2007,27\n\
04/01/2008,1\n\
10/01/2008,393\n\
16/01/2008,12\n\
21/01/2008,38\n\
25/01/2008,91\n\
05/02/2008,34\n\
14/02/2008,13\n\
19/03/2008,294\n\
20/03/2008,63\n\
07/04/2008,258\n\
06/05/2008,201\n\
07/05/2008,171\n\
12/05/2008,6\n\
13/05/2008,152\n\
29/05/2008,12\n\
03/06/2008,36\n\
09/06/2008,25\n\
10/06/2008,51\n\
16/06/2008,836\n\
24/06/2008,14\n\
26/06/2008,44\n\
01/07/2008,171\n\
09/07/2008,66\n\
10/07/2008,32\n\
16/07/2008,90\n\
22/07/2008,308\n\
23/07/2008,283\n\
29/07/2008,158\n\
30/07/2008,441\n\
31/07/2008,202\n\
01/08/2008,65\n\
05/08/2008,4\n\
06/08/2008,42\n\
08/08/2008,95\n\
11/08/2008,34\n\
18/08/2008,37\n\
19/08/2008,128\n\
05/09/2008,91\n\
09/09/2008,365\n\
24/09/2008,1\n\
17/10/2008,188\n\
23/10/2008,128\n\
28/10/2008,213\n\
31/10/2008,35\n\
06/11/2008,120\n\
12/11/2008,141\n\
13/11/2008,117\n\
18/11/2008,389\n\
22/11/2008,6\n\
20/12/2008,20\n\
06/01/2009,75\n\
13/01/2009,0\n\
28/01/2009,301\n\
03/02/2009,1\n\
10/02/2009,22\n\
24/02/2009,135\n\
03/03/2009,1261\n\
10/03/2009,233\n\
12/03/2009,41\n\
06/04/2009,210\n\
07/04/2009,451\n\
14/04/2009,140\n\
16/04/2009,1\n\
17/04/2009,42\n\
18/04/2009,48\n\
20/04/2009,175\n\
28/04/2009,16\n\
29/04/2009,826\n\
30/04/2009,156\n\
04/05/2009,146\n\
05/05/2009,610\n\
06/05/2009,9\n\
07/05/2009,6\n\
08/05/2009,3\n\
11/05/2009,241\n\
12/05/2009,533\n\
13/05/2009,9\n\
26/05/2009,163\n\
27/05/2009,1456\n\
29/05/2009,320\n\
01/06/2009,155\n\
02/06/2009,122\n\
04/06/2009,560\n\
16/06/2009,145\n\
01/07/2009,379\n\
02/07/2009,80\n\
07/07/2009,1398\n\
08/07/2009,64\n\
16/07/2009,458\n\
17/07/2009,288\n\
20/07/2009,309\n\
21/07/2009,232\n\
28/07/2009,5\n\
31/07/2009,58\n\
20/08/2009,187\n\
21/08/2009,7\n\
20/09/2009,2\n\
23/09/2009,3\n\
05/10/2009,20\n\
13/10/2009,180\n\
19/10/2009,196\n\
20/10/2009,1119\n\
27/10/2009,1633\n\
17/11/2009,18\n\
24/11/2009,136\n\
01/12/2009,32\n\
03/12/2009,17\n\
08/12/2009,60\n\
18/12/2009,527\n\
22/12/2009,131\n\
23/12/2009,15\n\
05/01/2010,96\n\
21/01/2010,112\n\
26/01/2010,63\n\
01/02/2010,53\n\
03/02/2010,308\n\
09/02/2010,153\n\
26/02/2010,11\n\
09/03/2010,105\n\
05/04/2010,841\n\
06/04/2010,93\n\
08/04/2010,1017\n\
13/04/2010,10\n\
14/04/2010,0\n\
04/05/2010,16\n\
06/05/2010,7\n\
12/05/2010,588\n\
20/05/2010,226\n\
31/08/2010,112\n\
13/10/2010,69\n\
26/10/2010,431\n\
09/11/2010,452\n\
13/11/2010,144\n\
16/11/2010,236\n\
28/12/2010,383\n\
03/01/2011,245\n\
05/01/2011,93\n\
07/01/2011,53\n\
08/01/2011,208\n\
11/01/2011,51\n\
12/01/2011,28\n\
18/01/2011,32\n\
19/01/2011,15\n\
20/01/2011,5\n\
03/02/2011,8\n\
10/02/2011,48\n\
04/03/2011,4\n\
24/03/2011,6\n\
02/04/2011,28\n\
03/04/2011,51\n\
04/04/2011,67\n\
15/04/2011,166\n\
29/04/2011,205\n\
19/05/2011,1\n\
31/05/2011,74\n\
01/06/2011,8\n\
07/06/2011,40\n\
14/06/2011,6\n\
17/06/2011,8\n\
24/06/2011,116\n\
25/06/2011,60\n\
28/06/2011,3\n\
05/07/2011,38\n\
06/07/2011,238\n\
07/07/2011,3\n\
09/07/2011,392\n\
12/07/2011,4\n\
13/07/2011,391\n\
14/07/2011,132\n\
16/07/2011,46\n\
28/07/2011,7\n\
06/08/2011,197\n\
08/08/2011,50\n\
09/08/2011,173\n\
10/08/2011,11\n\
11/08/2011,32\n\
12/08/2011,2\n\
20/08/2011,9\n\
22/08/2011,4\n\
26/08/2011,42\n\
08/09/2011,160\n\
09/09/2011,193\n\
13/09/2011,249\n\
14/09/2011,231\n\
15/09/2011,1\n\
18/09/2011,112\n\
19/09/2011,195\n\
21/09/2011,162\n\
22/09/2011,980\n\
23/09/2011,762\n\
27/09/2011,62\n\
28/09/2011,10\n\
29/09/2011,6\n\
05/10/2011,10\n\
07/10/2011,5\n\
16/10/2011,32\n\
17/10/2011,153\n\
18/10/2011,53\n\
21/10/2011,68\n\
11/11/2011,1\n\
28/11/2011,25\n\
03/01/2012,151\n\
17/01/2012,19\n\
19/01/2012,5\n\
31/01/2012,14\n\
02/02/2012,97\n\
03/02/2012,6\n\
08/02/2012,70\n\
15/02/2012,81\n\
16/02/2012,1\n\
19/02/2012,149\n\
21/02/2012,4\n\
02/03/2012,103\n\
05/03/2012,9\n\
06/03/2012,147\n\
09/03/2012,192\n\
10/03/2012,75\n\
21/03/2012,334\n\
22/03/2012,34\n\
29/03/2012,11\n\
30/03/2012,7\n\
03/04/2012,121\n\
04/04/2012,29\n\
06/04/2012,50\n\
09/04/2012,93\n\
10/04/2012,25\n\
12/04/2012,14\n\
14/04/2012,64\n\
19/04/2012,28\n\
21/04/2012,132\n\
22/04/2012,26\n\
23/04/2012,3\n\
25/04/2012,107\n\
27/04/2012,6\n\
28/04/2012,20\n\
09/05/2012,0\n\
10/05/2012,2\n\
18/05/2012,29\n\
21/05/2012,2\n\
22/05/2012,2\n\
24/05/2012,11\n\
25/05/2012,11\n\
27/05/2012,1\n\
29/05/2012,7\n\
30/05/2012,12\n\
31/05/2012,14\n\
01/06/2012,83\n\
03/06/2012,37\n\
04/06/2012,60\n\
15/06/2012,3\n\
19/06/2012,26\n\
20/06/2012,22\n\
21/06/2012,3\n\
23/06/2012,6\n\
24/06/2012,131\n\
25/06/2012,43\n\
30/06/2012,27\n\
15/07/2012,20\n\
19/07/2012,359\n\
20/07/2012,317\n\
02/08/2012,9\n\
03/08/2012,11\n\
10/08/2012,3\n\
12/08/2012,44\n\
13/08/2012,13\n\
17/08/2012,295\n\
18/08/2012,2\n\
20/08/2012,37\n\
21/08/2012,189\n\
22/08/2012,4\n\
27/08/2012,17\n\
06/09/2012,442\n\
08/09/2012,139\n\
12/09/2012,3\n\
13/09/2012,274\n\
14/09/2012,12\n\
17/09/2012,14\n\
19/09/2012,3\n\
20/09/2012,73\n\
21/09/2012,33\n\
22/09/2012,987\n\
23/09/2012,37\n\
24/09/2012,13\n\
26/09/2012,3\n\
27/09/2012,7\n\
28/09/2012,393\n\
29/09/2012,43\n\
01/10/2012,35\n\
04/10/2012,2361\n\
05/10/2012,3\n\
11/10/2012,2\n\
15/10/2012,40\n\
16/10/2012,50\n\
21/10/2012,2061\n\
24/10/2012,73\n\
07/11/2012,19\n\
10/11/2012,39\n\
11/11/2012,4\n\
12/11/2012,114\n\
13/11/2012,51\n\
14/11/2012,83\n\
15/11/2012,89\n\
16/11/2012,45\n\
17/11/2012,64\n\
18/11/2012,57\n\
19/11/2012,597\n\
20/11/2012,88\n\
23/11/2012,1\n\
03/12/2012,0\n\
04/12/2012,28\n\
05/12/2012,55\n\
06/12/2012,26\n\
09/12/2012,59\n\
10/12/2012,726\n\
11/12/2012,5\n\
12/12/2012,8\n\
18/12/2012,4\n\
22/12/2012,725\n\
23/12/2012,128\n\
24/12/2012,4\n\
28/12/2012,1\n\
03/01/2013,6\n\
04/01/2013,5\n\
05/01/2013,4\n\
07/01/2013,361\n\
08/01/2013,62\n\
09/01/2013,3\n\
12/01/2013,105\n\
13/01/2013,333\n\
15/01/2013,82\n\
16/01/2013,95\n\
17/01/2013,131\n\
18/01/2013,175\n\
28/01/2013,138\n\
31/01/2013,1\n\
05/02/2013,752\n\
06/02/2013,124\n\
09/02/2013,46\n\
12/02/2013,11\n\
15/02/2013,4\n\
17/02/2013,7\n\
19/02/2013,2\n\
03/03/2013,116\n\
06/03/2013,634\n\
07/03/2013,10\n\
10/03/2013,79\n\
11/03/2013,133\n\
13/03/2013,84\n\
14/03/2013,46\n\
16/03/2013,265\n\
17/03/2013,339\n\
18/03/2013,0\n\
19/03/2013,6\n\
22/03/2013,28\n\
31/03/2013,73\n\
01/04/2013,93\n\
06/04/2013,2\n\
07/04/2013,20\n\
08/05/2013,60\n\
09/05/2013,3\n\
","\
date,changeSize\n\
09/01/2001,69970\n\
10/01/2001,2571\n\
17/01/2001,876\n\
18/01/2001,1629\n\
01/04/2001,11214\n\
08/04/2001,22887\n\
21/05/2001,11524\n\
08/07/2001,0\n\
09/07/2001,241\n\
02/10/2001,2662\n\
19/10/2001,1555\n\
20/10/2001,90\n\
21/10/2001,4622\n\
22/10/2001,1255\n\
24/10/2001,6081\n\
25/10/2001,616\n\
27/10/2001,856\n\
29/10/2001,324\n\
30/10/2001,221\n\
31/10/2001,21\n\
02/11/2001,180\n\
03/11/2001,56\n\
10/11/2001,4563\n\
12/11/2001,1283\n\
24/12/2001,1514\n\
07/01/2002,364\n\
16/01/2002,534\n\
05/02/2002,8454\n\
06/02/2002,1443\n\
14/02/2002,2145\n\
28/03/2002,0\n\
29/03/2002,7356\n\
30/03/2002,10216\n\
31/03/2002,1318\n\
01/04/2002,2365\n\
02/04/2002,65\n\
07/04/2002,0\n\
08/04/2002,1588\n\
09/04/2002,3142\n\
10/04/2002,2025\n\
12/04/2002,8831\n\
27/04/2002,448\n\
14/06/2002,10236\n\
18/06/2002,435\n\
20/06/2002,3479\n\
22/06/2002,5495\n\
24/06/2002,344\n\
25/06/2002,4978\n\
26/06/2002,56\n\
27/06/2002,1615\n\
25/07/2002,60361\n\
19/08/2002,59294\n\
23/08/2002,26716\n\
24/08/2002,38\n\
30/08/2002,650\n\
31/08/2002,4171\n\
01/09/2002,9008\n\
02/09/2002,538\n\
13/11/2002,780\n\
19/12/2002,2608\n\
28/01/2003,2157\n\
28/02/2003,861\n\
20/03/2003,2402\n\
22/04/2003,971\n\
25/05/2003,107\n\
10/12/2003,254\n\
20/12/2003,456\n\
21/12/2003,0\n\
25/12/2003,39\n\
11/02/2004,1433\n\
01/06/2004,341\n\
01/09/2004,71\n\
03/09/2004,600\n\
09/09/2004,3225\n\
10/09/2004,541\n\
11/09/2004,684\n\
18/09/2004,1436\n\
23/09/2004,269\n\
11/10/2004,757\n\
22/10/2004,4163\n\
23/10/2004,3874\n\
24/10/2004,9972\n\
28/10/2004,914\n\
13/11/2004,419\n\
17/11/2004,16932\n\
28/12/2004,57636\n\
15/02/2006,1201743\n\
16/02/2006,864861\n\
17/02/2006,1472\n\
19/02/2006,148\n\
20/02/2006,3164\n\
24/02/2006,78\n\
27/02/2006,281\n\
08/03/2006,17\n\
10/03/2006,4539\n\
14/03/2006,2396\n\
15/03/2006,1238\n\
16/03/2006,268\n\
17/03/2006,8\n\
23/03/2006,16\n\
27/04/2006,839\n\
30/05/2006,73\n\
01/06/2006,1844\n\
24/06/2006,566\n\
28/06/2006,941\n\
29/06/2006,34\n\
30/06/2006,1114\n\
21/07/2006,1001\n\
03/08/2006,3237\n\
25/08/2006,19014\n\
30/09/2006,597\n\
05/10/2006,379\n\
02/11/2006,1644\n\
16/11/2006,4326\n\
17/11/2006,0\n\
20/11/2006,0\n\
21/11/2006,4744\n\
22/11/2006,0\n\
30/11/2006,108\n\
06/12/2006,3945\n\
13/12/2006,983\n\
27/12/2006,13967\n\
24/01/2007,23773\n\
26/01/2007,68\n\
08/02/2007,1567\n\
21/02/2007,9599\n\
27/02/2007,4968\n\
02/03/2007,1871\n\
04/03/2007,55\n\
07/03/2007,1939\n\
10/03/2007,6101\n\
20/03/2007,20122\n\
22/03/2007,747\n\
26/04/2007,12346\n\
08/05/2007,161\n\
31/05/2007,77\n\
02/07/2007,69713\n\
06/07/2007,6384\n\
09/07/2007,9983\n\
12/07/2007,18627\n\
16/07/2007,5760\n\
17/07/2007,511\n\
18/07/2007,36203\n\
19/07/2007,45663\n\
20/07/2007,11178\n\
06/08/2007,39\n\
13/08/2007,8633\n\
15/08/2007,4708\n\
20/08/2007,9317\n\
27/08/2007,587\n\
04/09/2007,32150\n\
28/09/2007,838\n\
03/10/2007,14344\n\
05/10/2007,12640\n\
08/10/2007,50236\n\
09/10/2007,11517\n\
10/10/2007,22969\n\
12/10/2007,29243\n\
13/10/2007,4026\n\
16/10/2007,3105\n\
24/10/2007,18\n\
31/10/2007,12521\n\
05/11/2007,992\n\
07/11/2007,5516\n\
14/11/2007,10153\n\
21/11/2007,542\n\
26/11/2007,1340\n\
27/11/2007,18007\n\
05/12/2007,6178\n\
07/12/2007,33847\n\
08/12/2007,2300\n\
10/12/2007,4693\n\
11/12/2007,88\n\
13/12/2007,18539\n\
16/12/2007,1761\n\
28/12/2007,1253\n\
30/12/2007,1251\n\
04/01/2008,47\n\
10/01/2008,13440\n\
16/01/2008,395\n\
21/01/2008,1364\n\
25/01/2008,3206\n\
05/02/2008,1501\n\
14/02/2008,728\n\
19/03/2008,8842\n\
20/03/2008,2023\n\
07/04/2008,8962\n\
06/05/2008,8167\n\
07/05/2008,10464\n\
12/05/2008,246\n\
13/05/2008,4658\n\
29/05/2008,426\n\
03/06/2008,1000\n\
09/06/2008,806\n\
10/06/2008,1894\n\
16/06/2008,25710\n\
24/06/2008,546\n\
26/06/2008,2027\n\
01/07/2008,5878\n\
09/07/2008,1427\n\
10/07/2008,944\n\
16/07/2008,2412\n\
22/07/2008,11316\n\
23/07/2008,10074\n\
29/07/2008,6694\n\
30/07/2008,14246\n\
31/07/2008,6794\n\
01/08/2008,2194\n\
05/08/2008,233\n\
06/08/2008,1516\n\
08/08/2008,4183\n\
11/08/2008,1238\n\
18/08/2008,1298\n\
19/08/2008,3090\n\
05/09/2008,2636\n\
09/09/2008,11287\n\
24/09/2008,70\n\
17/10/2008,6306\n\
23/10/2008,4953\n\
28/10/2008,6247\n\
31/10/2008,1101\n\
06/11/2008,4431\n\
12/11/2008,4400\n\
13/11/2008,3599\n\
18/11/2008,12665\n\
22/11/2008,226\n\
20/12/2008,547\n\
06/01/2009,2069\n\
13/01/2009,0\n\
28/01/2009,8562\n\
03/02/2009,5\n\
10/02/2009,606\n\
24/02/2009,4770\n\
03/03/2009,38650\n\
10/03/2009,7441\n\
12/03/2009,1539\n\
06/04/2009,5960\n\
07/04/2009,14822\n\
14/04/2009,3966\n\
16/04/2009,105\n\
17/04/2009,1436\n\
18/04/2009,1746\n\
20/04/2009,6732\n\
28/04/2009,503\n\
29/04/2009,22779\n\
30/04/2009,4757\n\
04/05/2009,5773\n\
05/05/2009,18815\n\
06/05/2009,342\n\
07/05/2009,147\n\
08/05/2009,159\n\
11/05/2009,8112\n\
12/05/2009,16562\n\
13/05/2009,418\n\
26/05/2009,5763\n\
27/05/2009,49680\n\
29/05/2009,13142\n\
01/06/2009,6194\n\
02/06/2009,4690\n\
04/06/2009,15380\n\
16/06/2009,4854\n\
01/07/2009,13077\n\
02/07/2009,2717\n\
07/07/2009,47210\n\
08/07/2009,2529\n\
16/07/2009,16244\n\
17/07/2009,8119\n\
20/07/2009,11818\n\
21/07/2009,8019\n\
28/07/2009,253\n\
31/07/2009,1282\n\
20/08/2009,4388\n\
21/08/2009,247\n\
20/09/2009,163\n\
23/09/2009,195\n\
05/10/2009,584\n\
13/10/2009,5708\n\
19/10/2009,5456\n\
20/10/2009,29669\n\
27/10/2009,41370\n\
17/11/2009,665\n\
24/11/2009,4355\n\
01/12/2009,1500\n\
03/12/2009,649\n\
08/12/2009,2272\n\
18/12/2009,17301\n\
22/12/2009,4147\n\
23/12/2009,575\n\
05/01/2010,3273\n\
21/01/2010,3529\n\
26/01/2010,2064\n\
01/02/2010,1340\n\
03/02/2010,8366\n\
09/02/2010,4830\n\
26/02/2010,393\n\
09/03/2010,2796\n\
05/04/2010,24847\n\
06/04/2010,3488\n\
08/04/2010,30194\n\
13/04/2010,219\n\
14/04/2010,0\n\
04/05/2010,456\n\
06/05/2010,176\n\
12/05/2010,17113\n\
20/05/2010,6620\n\
31/08/2010,2999\n\
13/10/2010,2892\n\
26/10/2010,14046\n\
09/11/2010,12020\n\
13/11/2010,4532\n\
16/11/2010,6746\n\
28/12/2010,11615\n\
03/01/2011,8058\n\
05/01/2011,3913\n\
07/01/2011,3331\n\
08/01/2011,7301\n\
11/01/2011,2439\n\
12/01/2011,920\n\
18/01/2011,1389\n\
19/01/2011,470\n\
20/01/2011,164\n\
03/02/2011,552\n\
10/02/2011,2286\n\
04/03/2011,151\n\
24/03/2011,191\n\
02/04/2011,537\n\
03/04/2011,1609\n\
04/04/2011,2464\n\
15/04/2011,4399\n\
29/04/2011,6565\n\
19/05/2011,48\n\
31/05/2011,1931\n\
01/06/2011,426\n\
07/06/2011,1931\n\
14/06/2011,152\n\
17/06/2011,492\n\
24/06/2011,3573\n\
25/06/2011,2198\n\
28/06/2011,145\n\
05/07/2011,1611\n\
06/07/2011,7482\n\
07/07/2011,86\n\
09/07/2011,12842\n\
12/07/2011,135\n\
13/07/2011,12751\n\
14/07/2011,4394\n\
16/07/2011,1614\n\
28/07/2011,416\n\
06/08/2011,6191\n\
08/08/2011,1632\n\
09/08/2011,4585\n\
10/08/2011,439\n\
11/08/2011,1252\n\
12/08/2011,66\n\
20/08/2011,197\n\
22/08/2011,177\n\
26/08/2011,1610\n\
08/09/2011,4815\n\
09/09/2011,4882\n\
13/09/2011,7260\n\
14/09/2011,6772\n\
15/09/2011,18\n\
18/09/2011,3092\n\
19/09/2011,8107\n\
21/09/2011,7088\n\
22/09/2011,29118\n\
23/09/2011,21640\n\
27/09/2011,1657\n\
28/09/2011,262\n\
29/09/2011,300\n\
05/10/2011,648\n\
07/10/2011,128\n\
16/10/2011,1158\n\
17/10/2011,4500\n\
18/10/2011,1958\n\
21/10/2011,2688\n\
11/11/2011,67\n\
28/11/2011,815\n\
03/01/2012,4189\n\
17/01/2012,521\n\
19/01/2012,263\n\
31/01/2012,377\n\
02/02/2012,3265\n\
03/02/2012,145\n\
08/02/2012,2433\n\
15/02/2012,2850\n\
16/02/2012,93\n\
19/02/2012,5321\n\
21/02/2012,273\n\
02/03/2012,3508\n\
05/03/2012,409\n\
06/03/2012,4197\n\
09/03/2012,5140\n\
10/03/2012,2269\n\
21/03/2012,12206\n\
22/03/2012,1416\n\
29/03/2012,595\n\
30/03/2012,227\n\
03/04/2012,4486\n\
04/04/2012,1887\n\
06/04/2012,2821\n\
09/04/2012,3496\n\
10/04/2012,650\n\
12/04/2012,446\n\
14/04/2012,2407\n\
19/04/2012,1480\n\
21/04/2012,4684\n\
22/04/2012,659\n\
23/04/2012,229\n\
25/04/2012,3817\n\
27/04/2012,204\n\
28/04/2012,513\n\
09/05/2012,0\n\
10/05/2012,121\n\
18/05/2012,958\n\
21/05/2012,93\n\
22/05/2012,2\n\
24/05/2012,551\n\
25/05/2012,494\n\
27/05/2012,4\n\
29/05/2012,408\n\
30/05/2012,1019\n\
31/05/2012,615\n\
01/06/2012,1064\n\
03/06/2012,973\n\
04/06/2012,2970\n\
15/06/2012,219\n\
19/06/2012,957\n\
20/06/2012,703\n\
21/06/2012,203\n\
23/06/2012,202\n\
24/06/2012,3722\n\
25/06/2012,1123\n\
30/06/2012,1148\n\
15/07/2012,1154\n\
19/07/2012,11822\n\
20/07/2012,9815\n\
02/08/2012,435\n\
03/08/2012,524\n\
10/08/2012,278\n\
12/08/2012,1604\n\
13/08/2012,932\n\
17/08/2012,9577\n\
18/08/2012,143\n\
20/08/2012,2136\n\
21/08/2012,5896\n\
22/08/2012,162\n\
27/08/2012,618\n\
06/09/2012,14637\n\
08/09/2012,2954\n\
12/09/2012,3\n\
13/09/2012,5735\n\
14/09/2012,795\n\
17/09/2012,829\n\
19/09/2012,185\n\
20/09/2012,2441\n\
21/09/2012,845\n\
22/09/2012,38882\n\
23/09/2012,1369\n\
24/09/2012,445\n\
26/09/2012,77\n\
27/09/2012,159\n\
28/09/2012,15556\n\
29/09/2012,1846\n\
01/10/2012,985\n\
04/10/2012,51389\n\
05/10/2012,145\n\
11/10/2012,113\n\
15/10/2012,1493\n\
16/10/2012,2006\n\
21/10/2012,73680\n\
24/10/2012,2158\n\
07/11/2012,810\n\
10/11/2012,1253\n\
11/11/2012,208\n\
12/11/2012,4119\n\
13/11/2012,1746\n\
14/11/2012,2515\n\
15/11/2012,3475\n\
16/11/2012,2062\n\
17/11/2012,2702\n\
18/11/2012,2108\n\
19/11/2012,21809\n\
20/11/2012,4546\n\
23/11/2012,97\n\
03/12/2012,0\n\
04/12/2012,1372\n\
05/12/2012,2566\n\
06/12/2012,1196\n\
09/12/2012,1880\n\
10/12/2012,26782\n\
11/12/2012,393\n\
12/12/2012,522\n\
18/12/2012,278\n\
22/12/2012,29688\n\
23/12/2012,4825\n\
24/12/2012,111\n\
28/12/2012,1\n\
03/01/2013,393\n\
04/01/2013,417\n\
05/01/2013,290\n\
07/01/2013,14492\n\
08/01/2013,1802\n\
09/01/2013,109\n\
12/01/2013,3248\n\
13/01/2013,12419\n\
15/01/2013,3534\n\
16/01/2013,4337\n\
17/01/2013,5240\n\
18/01/2013,5427\n\
28/01/2013,4886\n\
31/01/2013,48\n\
05/02/2013,29374\n\
06/02/2013,5511\n\
09/02/2013,2011\n\
12/02/2013,558\n\
15/02/2013,104\n\
17/02/2013,361\n\
19/02/2013,201\n\
03/03/2013,3543\n\
06/03/2013,21701\n\
07/03/2013,402\n\
10/03/2013,2918\n\
11/03/2013,5605\n\
13/03/2013,3243\n\
14/03/2013,2090\n\
16/03/2013,11007\n\
17/03/2013,10725\n\
18/03/2013,0\n\
19/03/2013,373\n\
22/03/2013,1103\n\
31/03/2013,2969\n\
01/04/2013,3490\n\
06/04/2013,153\n\
07/04/2013,858\n\
08/05/2013,2309\n\
09/05/2013,84\n\
"];
var projectName = "junit";

drawCalendarChart("calendar-view", calendarViewRawData, projectName);

function drawCalendarChart(elementId, rawData, projectName) {
    var threshold = 95;
    var rawDataIndex = 0;
    var data = parseRawData(rawData[rawDataIndex], threshold);

    var width = 800,
        height = 116,
        cellSize = 14;

    var day = d3.time.format("%w"),
            week = d3.time.format("%U");
    var dateFormat = d3.time.format("%d/%m/%Y");
    var valueFormat = function(n) {
        var s = d3.format(",")(n);
        return s.length < 6 ? s : d3.format("s")(n);
    };
    var minYear = d3.min(Object.keys(data), function(d) { return dateFormat.parse(d).getFullYear(); });
    var maxYear = d3.max(Object.keys(data), function(d) { return dateFormat.parse(d).getFullYear(); });

    var color = d3.scale.quantize().domain([0.0, 1.0])
            .range(d3.range(8).map(function(d) { return "q" + d + "-8"; }));

    const rootElement = d3.select("#" + elementId);

    var svg = rootElement.selectAll("svg")
            .data(d3.range(minYear, maxYear + 1))
            .enter().append("svg")
            .attr("width", width)
            .attr("height", height)
            .attr("class", "calendar-view")
            .append("g")
            .attr("transform", "translate(" + ((width - cellSize * 53) / 2) + "," + (height - cellSize * 7 - 1) + ")");

    svg.append("text")
            .attr("transform", "translate(-6," + cellSize * 3.5 + ")rotate(-90)")
            .style("text-anchor", "middle")
            .text(function(d) { return d; });

    var dayRects = svg.selectAll(".day")
            .data(function(d) { return d3.time.days(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
            .enter().append("rect")
            .attr("class", "day")
            .attr("width", cellSize)
            .attr("height", cellSize)
            .attr("x", function(d) { return week(d) * cellSize; })
            .attr("y", function(d) { return day(d) * cellSize; })
            .datum(dateFormat);
    dayRects.append("title").text(function(d) { return d; });

    svg.selectAll(".month")
            .data(function(d) { return d3.time.months(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })
            .enter().append("path")
            .attr("class", "month")
            .attr("d", monthPath);

    var footerSpan = appendBlockElementTo(rootElement, width - cellSize * 3);
    var span = footerSpan.append("span").style({float: "right"});
    span.append("label").html("Color threshold: ");
    var colorThresholdLabel = span.append("label");
    span.append("button").text("-").on("click", function () {
        threshold -= 5;
        if (threshold < 0) threshold = 0;
        data = parseRawData(rawData[rawDataIndex], threshold);
        updateCalendarView(dayRects, data);
    });
    span.append("button").text("+").on("click", function () {
        threshold += 5;
        if (threshold > 100) threshold = 100;
        data = parseRawData(rawData[rawDataIndex], threshold);
        updateCalendarView(dayRects, data);
    });
    span.append("button").text("reset").on("click", function () {
        threshold = 95;
        data = parseRawData(rawData[rawDataIndex], threshold);
        updateCalendarView(dayRects, data);
    });
    span.append("span").style({width: "20px", display: "inline-block"});
    span.append("label").html("Change size measured in: ");
    var dropDown = span.append("select");
    dropDown.append("option").attr("value", "0").html("commits");
    dropDown.append("option").attr("value", "1").html("lines");
    dropDown.append("option").attr("value", "2").html("characters");
    dropDown.on("change", function() {
        rawDataIndex = +this.value;
        data = parseRawData(rawData[rawDataIndex], threshold);
        updateCalendarView(dayRects, data);
    });


    updateCalendarView(dayRects, data);


    function updateCalendarView(dayRects, data) {
        dayRects.selectAll("title").text(function(d) { return d; });
        dayRects.filter(function(d){ return d in data; })
                .attr("class", function(d) { return "day " + color(data[d].value); })
                .select("title")
                .text(function(d) { return "Date: " + d + "\nChange size: " + valueFormat(data[d].changeSize); });
        colorThresholdLabel.html(threshold + "%");
    }

    function monthPath(t0) {
        var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),
                d0 = +day(t0), w0 = +week(t0),
                d1 = +day(t1), w1 = +week(t1);
        return "M" + (w0 + 1) * cellSize + "," + d0 * cellSize
                + "H" + w0 * cellSize + "V" + 7 * cellSize
                + "H" + w1 * cellSize + "V" + (d1 + 1) * cellSize
                + "H" + (w1 + 1) * cellSize + "V" + 0
                + "H" + (w0 + 1) * cellSize + "Z";
    }

    function appendBlockElementTo(element, width) {
        return element.append("span").style({display: "block", width: width + "px"});
    }

    function parseRawData(rawData, threshold) {
        var data = d3.csv.parse(rawData);
        data.forEach(function (d) { d.changeSize = +d.changeSize; });
        var toPercents = toPercentsFunction(data, threshold);

        return d3.nest()
                .key(function(d) { return d.date; })
                .rollup(function(d) { return {value: toPercents(d[0].changeSize), changeSize: d[0].changeSize}; })
                .map(data);
    }

    function toPercentsFunction(data, threshold) { // TODO try d3.quantile
        data.sort(function (a, b) { return a.changeSize < b.changeSize ? 1 : -1; });
        var length = data.length * (threshold / 100);
        var slicedData = data.slice(data.length - length, data.length);

        var min = d3.min(slicedData, function (d) { return d.changeSize; });
        var max = d3.max(slicedData, function (d) { return d.changeSize; });
        var rangeSize = (max - min > 0 ? max - min : 0.0000001);
        return function (value) {
            return (value - min) / rangeSize;
        };
    }
}
</script>

<script>
var rawData = ["\
date,changeSize\n\
09/01/2001,1\n\
10/01/2001,1\n\
17/01/2001,2\n\
18/01/2001,2\n\
01/04/2001,1\n\
08/04/2001,1\n\
21/05/2001,2\n\
08/07/2001,1\n\
09/07/2001,3\n\
02/10/2001,1\n\
19/10/2001,1\n\
20/10/2001,2\n\
21/10/2001,3\n\
22/10/2001,1\n\
24/10/2001,3\n\
25/10/2001,1\n\
27/10/2001,1\n\
29/10/2001,2\n\
30/10/2001,1\n\
31/10/2001,1\n\
02/11/2001,1\n\
03/11/2001,1\n\
10/11/2001,1\n\
12/11/2001,1\n\
24/12/2001,1\n\
07/01/2002,1\n\
16/01/2002,3\n\
05/02/2002,5\n\
06/02/2002,4\n\
14/02/2002,3\n\
28/03/2002,1\n\
29/03/2002,1\n\
30/03/2002,3\n\
31/03/2002,3\n\
01/04/2002,1\n\
02/04/2002,1\n\
07/04/2002,1\n\
08/04/2002,2\n\
09/04/2002,2\n\
10/04/2002,2\n\
12/04/2002,3\n\
27/04/2002,2\n\
14/06/2002,1\n\
18/06/2002,1\n\
20/06/2002,1\n\
22/06/2002,2\n\
24/06/2002,3\n\
25/06/2002,3\n\
26/06/2002,1\n\
27/06/2002,1\n\
25/07/2002,1\n\
19/08/2002,1\n\
23/08/2002,2\n\
24/08/2002,2\n\
30/08/2002,1\n\
31/08/2002,7\n\
01/09/2002,3\n\
02/09/2002,1\n\
13/11/2002,1\n\
19/12/2002,1\n\
28/01/2003,1\n\
28/02/2003,1\n\
20/03/2003,1\n\
22/04/2003,1\n\
25/05/2003,1\n\
10/12/2003,1\n\
20/12/2003,2\n\
21/12/2003,1\n\
25/12/2003,1\n\
11/02/2004,1\n\
01/06/2004,1\n\
01/09/2004,1\n\
03/09/2004,1\n\
09/09/2004,1\n\
10/09/2004,1\n\
11/09/2004,1\n\
18/09/2004,1\n\
23/09/2004,1\n\
11/10/2004,1\n\
22/10/2004,2\n\
23/10/2004,7\n\
24/10/2004,3\n\
28/10/2004,1\n\
13/11/2004,2\n\
17/11/2004,7\n\
28/12/2004,2\n\
15/02/2006,1\n\
16/02/2006,1\n\
17/02/2006,1\n\
19/02/2006,1\n\
20/02/2006,2\n\
24/02/2006,1\n\
27/02/2006,1\n\
08/03/2006,1\n\
10/03/2006,1\n\
14/03/2006,2\n\
15/03/2006,1\n\
16/03/2006,2\n\
17/03/2006,1\n\
23/03/2006,1\n\
27/04/2006,2\n\
30/05/2006,1\n\
01/06/2006,1\n\
24/06/2006,1\n\
28/06/2006,1\n\
29/06/2006,1\n\
30/06/2006,1\n\
21/07/2006,1\n\
03/08/2006,1\n\
25/08/2006,4\n\
30/09/2006,1\n\
05/10/2006,2\n\
02/11/2006,1\n\
16/11/2006,1\n\
17/11/2006,1\n\
20/11/2006,1\n\
21/11/2006,2\n\
22/11/2006,1\n\
30/11/2006,2\n\
06/12/2006,1\n\
13/12/2006,1\n\
27/12/2006,2\n\
24/01/2007,1\n\
26/01/2007,1\n\
08/02/2007,2\n\
21/02/2007,7\n\
27/02/2007,3\n\
02/03/2007,1\n\
04/03/2007,1\n\
07/03/2007,2\n\
10/03/2007,1\n\
20/03/2007,2\n\
22/03/2007,1\n\
26/04/2007,2\n\
08/05/2007,2\n\
31/05/2007,1\n\
02/07/2007,2\n\
06/07/2007,1\n\
09/07/2007,3\n\
12/07/2007,4\n\
16/07/2007,1\n\
17/07/2007,1\n\
18/07/2007,4\n\
19/07/2007,2\n\
20/07/2007,1\n\
06/08/2007,1\n\
13/08/2007,2\n\
15/08/2007,1\n\
20/08/2007,3\n\
27/08/2007,1\n\
04/09/2007,1\n\
28/09/2007,1\n\
03/10/2007,3\n\
05/10/2007,3\n\
08/10/2007,3\n\
09/10/2007,4\n\
10/10/2007,4\n\
12/10/2007,4\n\
13/10/2007,1\n\
16/10/2007,1\n\
24/10/2007,1\n\
31/10/2007,1\n\
05/11/2007,1\n\
07/11/2007,2\n\
14/11/2007,2\n\
21/11/2007,1\n\
26/11/2007,2\n\
27/11/2007,2\n\
05/12/2007,14\n\
07/12/2007,28\n\
08/12/2007,4\n\
10/12/2007,7\n\
11/12/2007,1\n\
13/12/2007,8\n\
16/12/2007,2\n\
28/12/2007,3\n\
30/12/2007,1\n\
04/01/2008,1\n\
10/01/2008,6\n\
16/01/2008,1\n\
21/01/2008,1\n\
25/01/2008,4\n\
05/02/2008,2\n\
14/02/2008,1\n\
19/03/2008,1\n\
20/03/2008,1\n\
07/04/2008,1\n\
06/05/2008,1\n\
07/05/2008,1\n\
12/05/2008,3\n\
13/05/2008,1\n\
29/05/2008,3\n\
03/06/2008,2\n\
09/06/2008,1\n\
10/06/2008,4\n\
16/06/2008,1\n\
24/06/2008,1\n\
26/06/2008,3\n\
01/07/2008,2\n\
09/07/2008,1\n\
10/07/2008,4\n\
16/07/2008,1\n\
22/07/2008,3\n\
23/07/2008,6\n\
29/07/2008,3\n\
30/07/2008,5\n\
31/07/2008,7\n\
01/08/2008,3\n\
05/08/2008,1\n\
06/08/2008,1\n\
08/08/2008,3\n\
11/08/2008,2\n\
18/08/2008,3\n\
19/08/2008,3\n\
05/09/2008,1\n\
09/09/2008,2\n\
24/09/2008,1\n\
17/10/2008,1\n\
23/10/2008,2\n\
28/10/2008,3\n\
31/10/2008,1\n\
06/11/2008,1\n\
12/11/2008,1\n\
13/11/2008,2\n\
18/11/2008,2\n\
22/11/2008,1\n\
20/12/2008,1\n\
06/01/2009,1\n\
13/01/2009,1\n\
28/01/2009,1\n\
03/02/2009,1\n\
10/02/2009,6\n\
24/02/2009,1\n\
03/03/2009,3\n\
10/03/2009,3\n\
12/03/2009,1\n\
06/04/2009,2\n\
07/04/2009,5\n\
14/04/2009,3\n\
16/04/2009,1\n\
17/04/2009,1\n\
18/04/2009,3\n\
20/04/2009,12\n\
28/04/2009,3\n\
29/04/2009,15\n\
30/04/2009,2\n\
04/05/2009,9\n\
05/05/2009,18\n\
06/05/2009,4\n\
07/05/2009,1\n\
08/05/2009,1\n\
11/05/2009,4\n\
12/05/2009,13\n\
13/05/2009,1\n\
26/05/2009,2\n\
27/05/2009,18\n\
29/05/2009,12\n\
01/06/2009,6\n\
02/06/2009,6\n\
04/06/2009,3\n\
16/06/2009,6\n\
01/07/2009,4\n\
02/07/2009,1\n\
07/07/2009,19\n\
08/07/2009,2\n\
16/07/2009,4\n\
17/07/2009,1\n\
20/07/2009,2\n\
21/07/2009,5\n\
28/07/2009,1\n\
31/07/2009,1\n\
20/08/2009,1\n\
21/08/2009,1\n\
20/09/2009,2\n\
23/09/2009,1\n\
05/10/2009,1\n\
13/10/2009,2\n\
19/10/2009,5\n\
20/10/2009,10\n\
27/10/2009,2\n\
17/11/2009,3\n\
24/11/2009,1\n\
01/12/2009,1\n\
03/12/2009,1\n\
08/12/2009,4\n\
18/12/2009,4\n\
22/12/2009,4\n\
23/12/2009,1\n\
05/01/2010,3\n\
21/01/2010,5\n\
26/01/2010,1\n\
01/02/2010,1\n\
03/02/2010,1\n\
09/02/2010,2\n\
26/02/2010,1\n\
09/03/2010,1\n\
05/04/2010,4\n\
06/04/2010,4\n\
08/04/2010,12\n\
13/04/2010,1\n\
14/04/2010,1\n\
04/05/2010,1\n\
06/05/2010,4\n\
12/05/2010,2\n\
20/05/2010,2\n\
31/08/2010,1\n\
13/10/2010,2\n\
26/10/2010,3\n\
09/11/2010,3\n\
13/11/2010,1\n\
16/11/2010,1\n\
28/12/2010,1\n\
03/01/2011,7\n\
05/01/2011,3\n\
07/01/2011,7\n\
08/01/2011,4\n\
11/01/2011,4\n\
12/01/2011,2\n\
18/01/2011,5\n\
19/01/2011,2\n\
20/01/2011,2\n\
03/02/2011,1\n\
10/02/2011,1\n\
04/03/2011,2\n\
24/03/2011,1\n\
02/04/2011,1\n\
03/04/2011,1\n\
04/04/2011,1\n\
15/04/2011,6\n\
29/04/2011,3\n\
19/05/2011,1\n\
31/05/2011,3\n\
01/06/2011,1\n\
07/06/2011,1\n\
14/06/2011,1\n\
17/06/2011,1\n\
24/06/2011,1\n\
25/06/2011,1\n\
28/06/2011,1\n\
05/07/2011,1\n\
06/07/2011,6\n\
07/07/2011,1\n\
09/07/2011,7\n\
12/07/2011,2\n\
13/07/2011,4\n\
14/07/2011,1\n\
16/07/2011,3\n\
28/07/2011,1\n\
06/08/2011,1\n\
08/08/2011,1\n\
09/08/2011,5\n\
10/08/2011,3\n\
11/08/2011,11\n\
12/08/2011,1\n\
20/08/2011,1\n\
22/08/2011,1\n\
26/08/2011,2\n\
08/09/2011,6\n\
09/09/2011,2\n\
13/09/2011,3\n\
14/09/2011,3\n\
15/09/2011,1\n\
18/09/2011,2\n\
19/09/2011,2\n\
21/09/2011,1\n\
22/09/2011,3\n\
23/09/2011,2\n\
27/09/2011,2\n\
28/09/2011,2\n\
29/09/2011,2\n\
05/10/2011,1\n\
07/10/2011,1\n\
16/10/2011,1\n\
17/10/2011,1\n\
18/10/2011,1\n\
21/10/2011,1\n\
11/11/2011,1\n\
28/11/2011,1\n\
03/01/2012,3\n\
17/01/2012,1\n\
19/01/2012,1\n\
31/01/2012,2\n\
02/02/2012,1\n\
03/02/2012,1\n\
08/02/2012,1\n\
15/02/2012,2\n\
16/02/2012,1\n\
19/02/2012,1\n\
21/02/2012,1\n\
02/03/2012,1\n\
05/03/2012,2\n\
06/03/2012,1\n\
09/03/2012,1\n\
10/03/2012,1\n\
21/03/2012,3\n\
22/03/2012,1\n\
29/03/2012,2\n\
30/03/2012,1\n\
03/04/2012,6\n\
04/04/2012,2\n\
06/04/2012,1\n\
09/04/2012,4\n\
10/04/2012,1\n\
12/04/2012,4\n\
14/04/2012,3\n\
19/04/2012,1\n\
21/04/2012,2\n\
22/04/2012,1\n\
23/04/2012,2\n\
25/04/2012,1\n\
27/04/2012,1\n\
28/04/2012,1\n\
09/05/2012,1\n\
10/05/2012,2\n\
18/05/2012,1\n\
21/05/2012,2\n\
22/05/2012,3\n\
24/05/2012,3\n\
25/05/2012,4\n\
27/05/2012,1\n\
29/05/2012,1\n\
30/05/2012,3\n\
31/05/2012,2\n\
01/06/2012,2\n\
03/06/2012,2\n\
04/06/2012,1\n\
15/06/2012,1\n\
19/06/2012,1\n\
20/06/2012,1\n\
21/06/2012,1\n\
23/06/2012,1\n\
24/06/2012,3\n\
25/06/2012,2\n\
30/06/2012,1\n\
15/07/2012,4\n\
19/07/2012,8\n\
20/07/2012,6\n\
02/08/2012,2\n\
03/08/2012,1\n\
10/08/2012,1\n\
12/08/2012,3\n\
13/08/2012,2\n\
17/08/2012,3\n\
18/08/2012,1\n\
20/08/2012,4\n\
21/08/2012,2\n\
22/08/2012,2\n\
27/08/2012,1\n\
06/09/2012,7\n\
08/09/2012,1\n\
12/09/2012,1\n\
13/09/2012,1\n\
14/09/2012,1\n\
17/09/2012,1\n\
19/09/2012,1\n\
20/09/2012,2\n\
21/09/2012,4\n\
22/09/2012,3\n\
23/09/2012,3\n\
24/09/2012,1\n\
26/09/2012,1\n\
27/09/2012,2\n\
28/09/2012,2\n\
29/09/2012,2\n\
01/10/2012,2\n\
04/10/2012,1\n\
05/10/2012,1\n\
11/10/2012,1\n\
15/10/2012,2\n\
16/10/2012,2\n\
21/10/2012,7\n\
24/10/2012,4\n\
07/11/2012,1\n\
10/11/2012,2\n\
11/11/2012,1\n\
12/11/2012,5\n\
13/11/2012,3\n\
14/11/2012,4\n\
15/11/2012,4\n\
16/11/2012,6\n\
17/11/2012,7\n\
18/11/2012,6\n\
19/11/2012,6\n\
20/11/2012,3\n\
23/11/2012,1\n\
03/12/2012,2\n\
04/12/2012,2\n\
05/12/2012,3\n\
06/12/2012,2\n\
09/12/2012,1\n\
10/12/2012,6\n\
11/12/2012,2\n\
12/12/2012,1\n\
18/12/2012,1\n\
22/12/2012,4\n\
23/12/2012,8\n\
24/12/2012,1\n\
28/12/2012,1\n\
03/01/2013,4\n\
04/01/2013,3\n\
05/01/2013,1\n\
07/01/2013,7\n\
08/01/2013,5\n\
09/01/2013,1\n\
12/01/2013,3\n\
13/01/2013,7\n\
15/01/2013,2\n\
16/01/2013,2\n\
17/01/2013,12\n\
18/01/2013,2\n\
28/01/2013,2\n\
31/01/2013,1\n\
05/02/2013,5\n\
06/02/2013,3\n\
09/02/2013,2\n\
12/02/2013,2\n\
15/02/2013,1\n\
17/02/2013,1\n\
19/02/2013,1\n\
03/03/2013,1\n\
06/03/2013,1\n\
07/03/2013,1\n\
10/03/2013,1\n\
11/03/2013,1\n\
13/03/2013,2\n\
14/03/2013,2\n\
16/03/2013,3\n\
17/03/2013,3\n\
18/03/2013,1\n\
19/03/2013,1\n\
22/03/2013,1\n\
31/03/2013,1\n\
01/04/2013,2\n\
06/04/2013,1\n\
07/04/2013,2\n\
08/05/2013,3\n\
09/05/2013,1\n\
","\
date,changeSize\n\
09/01/2001,2428\n\
10/01/2001,87\n\
17/01/2001,21\n\
18/01/2001,61\n\
01/04/2001,305\n\
08/04/2001,721\n\
21/05/2001,390\n\
08/07/2001,0\n\
09/07/2001,6\n\
02/10/2001,77\n\
19/10/2001,54\n\
20/10/2001,4\n\
21/10/2001,169\n\
22/10/2001,40\n\
24/10/2001,142\n\
25/10/2001,18\n\
27/10/2001,14\n\
29/10/2001,7\n\
30/10/2001,3\n\
31/10/2001,1\n\
02/11/2001,6\n\
03/11/2001,4\n\
10/11/2001,151\n\
12/11/2001,33\n\
24/12/2001,25\n\
07/01/2002,11\n\
16/01/2002,9\n\
05/02/2002,199\n\
06/02/2002,45\n\
14/02/2002,43\n\
28/03/2002,0\n\
29/03/2002,270\n\
30/03/2002,379\n\
31/03/2002,38\n\
01/04/2002,74\n\
02/04/2002,1\n\
07/04/2002,0\n\
08/04/2002,74\n\
09/04/2002,95\n\
10/04/2002,94\n\
12/04/2002,265\n\
27/04/2002,10\n\
14/06/2002,160\n\
18/06/2002,7\n\
20/06/2002,74\n\
22/06/2002,196\n\
24/06/2002,3\n\
25/06/2002,146\n\
26/06/2002,1\n\
27/06/2002,33\n\
25/07/2002,1810\n\
19/08/2002,1\n\
23/08/2002,368\n\
24/08/2002,2\n\
30/08/2002,20\n\
31/08/2002,104\n\
01/09/2002,338\n\
02/09/2002,18\n\
13/11/2002,23\n\
19/12/2002,59\n\
28/01/2003,90\n\
28/02/2003,32\n\
20/03/2003,64\n\
22/04/2003,21\n\
25/05/2003,1\n\
10/12/2003,4\n\
20/12/2003,6\n\
21/12/2003,0\n\
25/12/2003,1\n\
11/02/2004,56\n\
01/06/2004,6\n\
01/09/2004,1\n\
03/09/2004,16\n\
09/09/2004,131\n\
10/09/2004,24\n\
11/09/2004,12\n\
18/09/2004,34\n\
23/09/2004,4\n\
11/10/2004,21\n\
22/10/2004,148\n\
23/10/2004,112\n\
24/10/2004,281\n\
28/10/2004,15\n\
13/11/2004,4\n\
17/11/2004,419\n\
28/12/2004,1505\n\
15/02/2006,34868\n\
16/02/2006,22974\n\
17/02/2006,59\n\
19/02/2006,1\n\
20/02/2006,98\n\
24/02/2006,3\n\
27/02/2006,7\n\
08/03/2006,1\n\
10/03/2006,93\n\
14/03/2006,110\n\
15/03/2006,28\n\
16/03/2006,6\n\
17/03/2006,1\n\
23/03/2006,1\n\
27/04/2006,29\n\
30/05/2006,1\n\
01/06/2006,57\n\
24/06/2006,17\n\
28/06/2006,32\n\
29/06/2006,1\n\
30/06/2006,43\n\
21/07/2006,30\n\
03/08/2006,87\n\
25/08/2006,426\n\
30/09/2006,12\n\
05/10/2006,10\n\
02/11/2006,50\n\
16/11/2006,85\n\
17/11/2006,0\n\
20/11/2006,0\n\
21/11/2006,156\n\
22/11/2006,0\n\
30/11/2006,2\n\
06/12/2006,153\n\
13/12/2006,33\n\
27/12/2006,486\n\
24/01/2007,704\n\
26/01/2007,3\n\
08/02/2007,48\n\
21/02/2007,305\n\
27/02/2007,160\n\
02/03/2007,66\n\
04/03/2007,1\n\
07/03/2007,37\n\
10/03/2007,196\n\
20/03/2007,632\n\
22/03/2007,17\n\
26/04/2007,406\n\
08/05/2007,4\n\
31/05/2007,1\n\
02/07/2007,2346\n\
06/07/2007,203\n\
09/07/2007,362\n\
12/07/2007,529\n\
16/07/2007,170\n\
17/07/2007,15\n\
18/07/2007,811\n\
19/07/2007,1595\n\
20/07/2007,385\n\
06/08/2007,1\n\
13/08/2007,288\n\
15/08/2007,141\n\
20/08/2007,252\n\
27/08/2007,21\n\
04/09/2007,1097\n\
28/09/2007,25\n\
03/10/2007,496\n\
05/10/2007,389\n\
08/10/2007,1768\n\
09/10/2007,256\n\
10/10/2007,665\n\
12/10/2007,951\n\
13/10/2007,138\n\
16/10/2007,88\n\
24/10/2007,1\n\
31/10/2007,375\n\
05/11/2007,30\n\
07/11/2007,194\n\
14/11/2007,262\n\
21/11/2007,18\n\
26/11/2007,53\n\
27/11/2007,746\n\
05/12/2007,184\n\
07/12/2007,1057\n\
08/12/2007,94\n\
10/12/2007,146\n\
11/12/2007,2\n\
13/12/2007,566\n\
16/12/2007,33\n\
28/12/2007,27\n\
30/12/2007,27\n\
04/01/2008,1\n\
10/01/2008,393\n\
16/01/2008,12\n\
21/01/2008,38\n\
25/01/2008,91\n\
05/02/2008,34\n\
14/02/2008,13\n\
19/03/2008,294\n\
20/03/2008,63\n\
07/04/2008,258\n\
06/05/2008,201\n\
07/05/2008,171\n\
12/05/2008,6\n\
13/05/2008,152\n\
29/05/2008,12\n\
03/06/2008,36\n\
09/06/2008,25\n\
10/06/2008,51\n\
16/06/2008,836\n\
24/06/2008,14\n\
26/06/2008,44\n\
01/07/2008,171\n\
09/07/2008,66\n\
10/07/2008,32\n\
16/07/2008,90\n\
22/07/2008,308\n\
23/07/2008,283\n\
29/07/2008,158\n\
30/07/2008,441\n\
31/07/2008,202\n\
01/08/2008,65\n\
05/08/2008,4\n\
06/08/2008,42\n\
08/08/2008,95\n\
11/08/2008,34\n\
18/08/2008,37\n\
19/08/2008,128\n\
05/09/2008,91\n\
09/09/2008,365\n\
24/09/2008,1\n\
17/10/2008,188\n\
23/10/2008,128\n\
28/10/2008,213\n\
31/10/2008,35\n\
06/11/2008,120\n\
12/11/2008,141\n\
13/11/2008,117\n\
18/11/2008,389\n\
22/11/2008,6\n\
20/12/2008,20\n\
06/01/2009,75\n\
13/01/2009,0\n\
28/01/2009,301\n\
03/02/2009,1\n\
10/02/2009,22\n\
24/02/2009,135\n\
03/03/2009,1261\n\
10/03/2009,233\n\
12/03/2009,41\n\
06/04/2009,210\n\
07/04/2009,451\n\
14/04/2009,140\n\
16/04/2009,1\n\
17/04/2009,42\n\
18/04/2009,48\n\
20/04/2009,175\n\
28/04/2009,16\n\
29/04/2009,826\n\
30/04/2009,156\n\
04/05/2009,146\n\
05/05/2009,610\n\
06/05/2009,9\n\
07/05/2009,6\n\
08/05/2009,3\n\
11/05/2009,241\n\
12/05/2009,533\n\
13/05/2009,9\n\
26/05/2009,163\n\
27/05/2009,1456\n\
29/05/2009,320\n\
01/06/2009,155\n\
02/06/2009,122\n\
04/06/2009,560\n\
16/06/2009,145\n\
01/07/2009,379\n\
02/07/2009,80\n\
07/07/2009,1398\n\
08/07/2009,64\n\
16/07/2009,458\n\
17/07/2009,288\n\
20/07/2009,309\n\
21/07/2009,232\n\
28/07/2009,5\n\
31/07/2009,58\n\
20/08/2009,187\n\
21/08/2009,7\n\
20/09/2009,2\n\
23/09/2009,3\n\
05/10/2009,20\n\
13/10/2009,180\n\
19/10/2009,196\n\
20/10/2009,1119\n\
27/10/2009,1633\n\
17/11/2009,18\n\
24/11/2009,136\n\
01/12/2009,32\n\
03/12/2009,17\n\
08/12/2009,60\n\
18/12/2009,527\n\
22/12/2009,131\n\
23/12/2009,15\n\
05/01/2010,96\n\
21/01/2010,112\n\
26/01/2010,63\n\
01/02/2010,53\n\
03/02/2010,308\n\
09/02/2010,153\n\
26/02/2010,11\n\
09/03/2010,105\n\
05/04/2010,841\n\
06/04/2010,93\n\
08/04/2010,1017\n\
13/04/2010,10\n\
14/04/2010,0\n\
04/05/2010,16\n\
06/05/2010,7\n\
12/05/2010,588\n\
20/05/2010,226\n\
31/08/2010,112\n\
13/10/2010,69\n\
26/10/2010,431\n\
09/11/2010,452\n\
13/11/2010,144\n\
16/11/2010,236\n\
28/12/2010,383\n\
03/01/2011,245\n\
05/01/2011,93\n\
07/01/2011,53\n\
08/01/2011,208\n\
11/01/2011,51\n\
12/01/2011,28\n\
18/01/2011,32\n\
19/01/2011,15\n\
20/01/2011,5\n\
03/02/2011,8\n\
10/02/2011,48\n\
04/03/2011,4\n\
24/03/2011,6\n\
02/04/2011,28\n\
03/04/2011,51\n\
04/04/2011,67\n\
15/04/2011,166\n\
29/04/2011,205\n\
19/05/2011,1\n\
31/05/2011,74\n\
01/06/2011,8\n\
07/06/2011,40\n\
14/06/2011,6\n\
17/06/2011,8\n\
24/06/2011,116\n\
25/06/2011,60\n\
28/06/2011,3\n\
05/07/2011,38\n\
06/07/2011,238\n\
07/07/2011,3\n\
09/07/2011,392\n\
12/07/2011,4\n\
13/07/2011,391\n\
14/07/2011,132\n\
16/07/2011,46\n\
28/07/2011,7\n\
06/08/2011,197\n\
08/08/2011,50\n\
09/08/2011,173\n\
10/08/2011,11\n\
11/08/2011,32\n\
12/08/2011,2\n\
20/08/2011,9\n\
22/08/2011,4\n\
26/08/2011,42\n\
08/09/2011,160\n\
09/09/2011,193\n\
13/09/2011,249\n\
14/09/2011,231\n\
15/09/2011,1\n\
18/09/2011,112\n\
19/09/2011,195\n\
21/09/2011,162\n\
22/09/2011,980\n\
23/09/2011,762\n\
27/09/2011,62\n\
28/09/2011,10\n\
29/09/2011,6\n\
05/10/2011,10\n\
07/10/2011,5\n\
16/10/2011,32\n\
17/10/2011,153\n\
18/10/2011,53\n\
21/10/2011,68\n\
11/11/2011,1\n\
28/11/2011,25\n\
03/01/2012,151\n\
17/01/2012,19\n\
19/01/2012,5\n\
31/01/2012,14\n\
02/02/2012,97\n\
03/02/2012,6\n\
08/02/2012,70\n\
15/02/2012,81\n\
16/02/2012,1\n\
19/02/2012,149\n\
21/02/2012,4\n\
02/03/2012,103\n\
05/03/2012,9\n\
06/03/2012,147\n\
09/03/2012,192\n\
10/03/2012,75\n\
21/03/2012,334\n\
22/03/2012,34\n\
29/03/2012,11\n\
30/03/2012,7\n\
03/04/2012,121\n\
04/04/2012,29\n\
06/04/2012,50\n\
09/04/2012,93\n\
10/04/2012,25\n\
12/04/2012,14\n\
14/04/2012,64\n\
19/04/2012,28\n\
21/04/2012,132\n\
22/04/2012,26\n\
23/04/2012,3\n\
25/04/2012,107\n\
27/04/2012,6\n\
28/04/2012,20\n\
09/05/2012,0\n\
10/05/2012,2\n\
18/05/2012,29\n\
21/05/2012,2\n\
22/05/2012,2\n\
24/05/2012,11\n\
25/05/2012,11\n\
27/05/2012,1\n\
29/05/2012,7\n\
30/05/2012,12\n\
31/05/2012,14\n\
01/06/2012,83\n\
03/06/2012,37\n\
04/06/2012,60\n\
15/06/2012,3\n\
19/06/2012,26\n\
20/06/2012,22\n\
21/06/2012,3\n\
23/06/2012,6\n\
24/06/2012,131\n\
25/06/2012,43\n\
30/06/2012,27\n\
15/07/2012,20\n\
19/07/2012,359\n\
20/07/2012,317\n\
02/08/2012,9\n\
03/08/2012,11\n\
10/08/2012,3\n\
12/08/2012,44\n\
13/08/2012,13\n\
17/08/2012,295\n\
18/08/2012,2\n\
20/08/2012,37\n\
21/08/2012,189\n\
22/08/2012,4\n\
27/08/2012,17\n\
06/09/2012,442\n\
08/09/2012,139\n\
12/09/2012,3\n\
13/09/2012,274\n\
14/09/2012,12\n\
17/09/2012,14\n\
19/09/2012,3\n\
20/09/2012,73\n\
21/09/2012,33\n\
22/09/2012,987\n\
23/09/2012,37\n\
24/09/2012,13\n\
26/09/2012,3\n\
27/09/2012,7\n\
28/09/2012,393\n\
29/09/2012,43\n\
01/10/2012,35\n\
04/10/2012,2361\n\
05/10/2012,3\n\
11/10/2012,2\n\
15/10/2012,40\n\
16/10/2012,50\n\
21/10/2012,2061\n\
24/10/2012,73\n\
07/11/2012,19\n\
10/11/2012,39\n\
11/11/2012,4\n\
12/11/2012,114\n\
13/11/2012,51\n\
14/11/2012,83\n\
15/11/2012,89\n\
16/11/2012,45\n\
17/11/2012,64\n\
18/11/2012,57\n\
19/11/2012,597\n\
20/11/2012,88\n\
23/11/2012,1\n\
03/12/2012,0\n\
04/12/2012,28\n\
05/12/2012,55\n\
06/12/2012,26\n\
09/12/2012,59\n\
10/12/2012,726\n\
11/12/2012,5\n\
12/12/2012,8\n\
18/12/2012,4\n\
22/12/2012,725\n\
23/12/2012,128\n\
24/12/2012,4\n\
28/12/2012,1\n\
03/01/2013,6\n\
04/01/2013,5\n\
05/01/2013,4\n\
07/01/2013,361\n\
08/01/2013,62\n\
09/01/2013,3\n\
12/01/2013,105\n\
13/01/2013,333\n\
15/01/2013,82\n\
16/01/2013,95\n\
17/01/2013,131\n\
18/01/2013,175\n\
28/01/2013,138\n\
31/01/2013,1\n\
05/02/2013,752\n\
06/02/2013,124\n\
09/02/2013,46\n\
12/02/2013,11\n\
15/02/2013,4\n\
17/02/2013,7\n\
19/02/2013,2\n\
03/03/2013,116\n\
06/03/2013,634\n\
07/03/2013,10\n\
10/03/2013,79\n\
11/03/2013,133\n\
13/03/2013,84\n\
14/03/2013,46\n\
16/03/2013,265\n\
17/03/2013,339\n\
18/03/2013,0\n\
19/03/2013,6\n\
22/03/2013,28\n\
31/03/2013,73\n\
01/04/2013,93\n\
06/04/2013,2\n\
07/04/2013,20\n\
08/05/2013,60\n\
09/05/2013,3\n\
","\
date,changeSize\n\
09/01/2001,69970\n\
10/01/2001,2571\n\
17/01/2001,876\n\
18/01/2001,1629\n\
01/04/2001,11214\n\
08/04/2001,22887\n\
21/05/2001,11524\n\
08/07/2001,0\n\
09/07/2001,241\n\
02/10/2001,2662\n\
19/10/2001,1555\n\
20/10/2001,90\n\
21/10/2001,4622\n\
22/10/2001,1255\n\
24/10/2001,6081\n\
25/10/2001,616\n\
27/10/2001,856\n\
29/10/2001,324\n\
30/10/2001,221\n\
31/10/2001,21\n\
02/11/2001,180\n\
03/11/2001,56\n\
10/11/2001,4563\n\
12/11/2001,1283\n\
24/12/2001,1514\n\
07/01/2002,364\n\
16/01/2002,534\n\
05/02/2002,8454\n\
06/02/2002,1443\n\
14/02/2002,2145\n\
28/03/2002,0\n\
29/03/2002,7356\n\
30/03/2002,10216\n\
31/03/2002,1318\n\
01/04/2002,2365\n\
02/04/2002,65\n\
07/04/2002,0\n\
08/04/2002,1588\n\
09/04/2002,3142\n\
10/04/2002,2025\n\
12/04/2002,8831\n\
27/04/2002,448\n\
14/06/2002,10236\n\
18/06/2002,435\n\
20/06/2002,3479\n\
22/06/2002,5495\n\
24/06/2002,344\n\
25/06/2002,4978\n\
26/06/2002,56\n\
27/06/2002,1615\n\
25/07/2002,60361\n\
19/08/2002,59294\n\
23/08/2002,26716\n\
24/08/2002,38\n\
30/08/2002,650\n\
31/08/2002,4171\n\
01/09/2002,9008\n\
02/09/2002,538\n\
13/11/2002,780\n\
19/12/2002,2608\n\
28/01/2003,2157\n\
28/02/2003,861\n\
20/03/2003,2402\n\
22/04/2003,971\n\
25/05/2003,107\n\
10/12/2003,254\n\
20/12/2003,456\n\
21/12/2003,0\n\
25/12/2003,39\n\
11/02/2004,1433\n\
01/06/2004,341\n\
01/09/2004,71\n\
03/09/2004,600\n\
09/09/2004,3225\n\
10/09/2004,541\n\
11/09/2004,684\n\
18/09/2004,1436\n\
23/09/2004,269\n\
11/10/2004,757\n\
22/10/2004,4163\n\
23/10/2004,3874\n\
24/10/2004,9972\n\
28/10/2004,914\n\
13/11/2004,419\n\
17/11/2004,16932\n\
28/12/2004,57636\n\
15/02/2006,1201743\n\
16/02/2006,864861\n\
17/02/2006,1472\n\
19/02/2006,148\n\
20/02/2006,3164\n\
24/02/2006,78\n\
27/02/2006,281\n\
08/03/2006,17\n\
10/03/2006,4539\n\
14/03/2006,2396\n\
15/03/2006,1238\n\
16/03/2006,268\n\
17/03/2006,8\n\
23/03/2006,16\n\
27/04/2006,839\n\
30/05/2006,73\n\
01/06/2006,1844\n\
24/06/2006,566\n\
28/06/2006,941\n\
29/06/2006,34\n\
30/06/2006,1114\n\
21/07/2006,1001\n\
03/08/2006,3237\n\
25/08/2006,19014\n\
30/09/2006,597\n\
05/10/2006,379\n\
02/11/2006,1644\n\
16/11/2006,4326\n\
17/11/2006,0\n\
20/11/2006,0\n\
21/11/2006,4744\n\
22/11/2006,0\n\
30/11/2006,108\n\
06/12/2006,3945\n\
13/12/2006,983\n\
27/12/2006,13967\n\
24/01/2007,23773\n\
26/01/2007,68\n\
08/02/2007,1567\n\
21/02/2007,9599\n\
27/02/2007,4968\n\
02/03/2007,1871\n\
04/03/2007,55\n\
07/03/2007,1939\n\
10/03/2007,6101\n\
20/03/2007,20122\n\
22/03/2007,747\n\
26/04/2007,12346\n\
08/05/2007,161\n\
31/05/2007,77\n\
02/07/2007,69713\n\
06/07/2007,6384\n\
09/07/2007,9983\n\
12/07/2007,18627\n\
16/07/2007,5760\n\
17/07/2007,511\n\
18/07/2007,36203\n\
19/07/2007,45663\n\
20/07/2007,11178\n\
06/08/2007,39\n\
13/08/2007,8633\n\
15/08/2007,4708\n\
20/08/2007,9317\n\
27/08/2007,587\n\
04/09/2007,32150\n\
28/09/2007,838\n\
03/10/2007,14344\n\
05/10/2007,12640\n\
08/10/2007,50236\n\
09/10/2007,11517\n\
10/10/2007,22969\n\
12/10/2007,29243\n\
13/10/2007,4026\n\
16/10/2007,3105\n\
24/10/2007,18\n\
31/10/2007,12521\n\
05/11/2007,992\n\
07/11/2007,5516\n\
14/11/2007,10153\n\
21/11/2007,542\n\
26/11/2007,1340\n\
27/11/2007,18007\n\
05/12/2007,6178\n\
07/12/2007,33847\n\
08/12/2007,2300\n\
10/12/2007,4693\n\
11/12/2007,88\n\
13/12/2007,18539\n\
16/12/2007,1761\n\
28/12/2007,1253\n\
30/12/2007,1251\n\
04/01/2008,47\n\
10/01/2008,13440\n\
16/01/2008,395\n\
21/01/2008,1364\n\
25/01/2008,3206\n\
05/02/2008,1501\n\
14/02/2008,728\n\
19/03/2008,8842\n\
20/03/2008,2023\n\
07/04/2008,8962\n\
06/05/2008,8167\n\
07/05/2008,10464\n\
12/05/2008,246\n\
13/05/2008,4658\n\
29/05/2008,426\n\
03/06/2008,1000\n\
09/06/2008,806\n\
10/06/2008,1894\n\
16/06/2008,25710\n\
24/06/2008,546\n\
26/06/2008,2027\n\
01/07/2008,5878\n\
09/07/2008,1427\n\
10/07/2008,944\n\
16/07/2008,2412\n\
22/07/2008,11316\n\
23/07/2008,10074\n\
29/07/2008,6694\n\
30/07/2008,14246\n\
31/07/2008,6794\n\
01/08/2008,2194\n\
05/08/2008,233\n\
06/08/2008,1516\n\
08/08/2008,4183\n\
11/08/2008,1238\n\
18/08/2008,1298\n\
19/08/2008,3090\n\
05/09/2008,2636\n\
09/09/2008,11287\n\
24/09/2008,70\n\
17/10/2008,6306\n\
23/10/2008,4953\n\
28/10/2008,6247\n\
31/10/2008,1101\n\
06/11/2008,4431\n\
12/11/2008,4400\n\
13/11/2008,3599\n\
18/11/2008,12665\n\
22/11/2008,226\n\
20/12/2008,547\n\
06/01/2009,2069\n\
13/01/2009,0\n\
28/01/2009,8562\n\
03/02/2009,5\n\
10/02/2009,606\n\
24/02/2009,4770\n\
03/03/2009,38650\n\
10/03/2009,7441\n\
12/03/2009,1539\n\
06/04/2009,5960\n\
07/04/2009,14822\n\
14/04/2009,3966\n\
16/04/2009,105\n\
17/04/2009,1436\n\
18/04/2009,1746\n\
20/04/2009,6732\n\
28/04/2009,503\n\
29/04/2009,22779\n\
30/04/2009,4757\n\
04/05/2009,5773\n\
05/05/2009,18815\n\
06/05/2009,342\n\
07/05/2009,147\n\
08/05/2009,159\n\
11/05/2009,8112\n\
12/05/2009,16562\n\
13/05/2009,418\n\
26/05/2009,5763\n\
27/05/2009,49680\n\
29/05/2009,13142\n\
01/06/2009,6194\n\
02/06/2009,4690\n\
04/06/2009,15380\n\
16/06/2009,4854\n\
01/07/2009,13077\n\
02/07/2009,2717\n\
07/07/2009,47210\n\
08/07/2009,2529\n\
16/07/2009,16244\n\
17/07/2009,8119\n\
20/07/2009,11818\n\
21/07/2009,8019\n\
28/07/2009,253\n\
31/07/2009,1282\n\
20/08/2009,4388\n\
21/08/2009,247\n\
20/09/2009,163\n\
23/09/2009,195\n\
05/10/2009,584\n\
13/10/2009,5708\n\
19/10/2009,5456\n\
20/10/2009,29669\n\
27/10/2009,41370\n\
17/11/2009,665\n\
24/11/2009,4355\n\
01/12/2009,1500\n\
03/12/2009,649\n\
08/12/2009,2272\n\
18/12/2009,17301\n\
22/12/2009,4147\n\
23/12/2009,575\n\
05/01/2010,3273\n\
21/01/2010,3529\n\
26/01/2010,2064\n\
01/02/2010,1340\n\
03/02/2010,8366\n\
09/02/2010,4830\n\
26/02/2010,393\n\
09/03/2010,2796\n\
05/04/2010,24847\n\
06/04/2010,3488\n\
08/04/2010,30194\n\
13/04/2010,219\n\
14/04/2010,0\n\
04/05/2010,456\n\
06/05/2010,176\n\
12/05/2010,17113\n\
20/05/2010,6620\n\
31/08/2010,2999\n\
13/10/2010,2892\n\
26/10/2010,14046\n\
09/11/2010,12020\n\
13/11/2010,4532\n\
16/11/2010,6746\n\
28/12/2010,11615\n\
03/01/2011,8058\n\
05/01/2011,3913\n\
07/01/2011,3331\n\
08/01/2011,7301\n\
11/01/2011,2439\n\
12/01/2011,920\n\
18/01/2011,1389\n\
19/01/2011,470\n\
20/01/2011,164\n\
03/02/2011,552\n\
10/02/2011,2286\n\
04/03/2011,151\n\
24/03/2011,191\n\
02/04/2011,537\n\
03/04/2011,1609\n\
04/04/2011,2464\n\
15/04/2011,4399\n\
29/04/2011,6565\n\
19/05/2011,48\n\
31/05/2011,1931\n\
01/06/2011,426\n\
07/06/2011,1931\n\
14/06/2011,152\n\
17/06/2011,492\n\
24/06/2011,3573\n\
25/06/2011,2198\n\
28/06/2011,145\n\
05/07/2011,1611\n\
06/07/2011,7482\n\
07/07/2011,86\n\
09/07/2011,12842\n\
12/07/2011,135\n\
13/07/2011,12751\n\
14/07/2011,4394\n\
16/07/2011,1614\n\
28/07/2011,416\n\
06/08/2011,6191\n\
08/08/2011,1632\n\
09/08/2011,4585\n\
10/08/2011,439\n\
11/08/2011,1252\n\
12/08/2011,66\n\
20/08/2011,197\n\
22/08/2011,177\n\
26/08/2011,1610\n\
08/09/2011,4815\n\
09/09/2011,4882\n\
13/09/2011,7260\n\
14/09/2011,6772\n\
15/09/2011,18\n\
18/09/2011,3092\n\
19/09/2011,8107\n\
21/09/2011,7088\n\
22/09/2011,29118\n\
23/09/2011,21640\n\
27/09/2011,1657\n\
28/09/2011,262\n\
29/09/2011,300\n\
05/10/2011,648\n\
07/10/2011,128\n\
16/10/2011,1158\n\
17/10/2011,4500\n\
18/10/2011,1958\n\
21/10/2011,2688\n\
11/11/2011,67\n\
28/11/2011,815\n\
03/01/2012,4189\n\
17/01/2012,521\n\
19/01/2012,263\n\
31/01/2012,377\n\
02/02/2012,3265\n\
03/02/2012,145\n\
08/02/2012,2433\n\
15/02/2012,2850\n\
16/02/2012,93\n\
19/02/2012,5321\n\
21/02/2012,273\n\
02/03/2012,3508\n\
05/03/2012,409\n\
06/03/2012,4197\n\
09/03/2012,5140\n\
10/03/2012,2269\n\
21/03/2012,12206\n\
22/03/2012,1416\n\
29/03/2012,595\n\
30/03/2012,227\n\
03/04/2012,4486\n\
04/04/2012,1887\n\
06/04/2012,2821\n\
09/04/2012,3496\n\
10/04/2012,650\n\
12/04/2012,446\n\
14/04/2012,2407\n\
19/04/2012,1480\n\
21/04/2012,4684\n\
22/04/2012,659\n\
23/04/2012,229\n\
25/04/2012,3817\n\
27/04/2012,204\n\
28/04/2012,513\n\
09/05/2012,0\n\
10/05/2012,121\n\
18/05/2012,958\n\
21/05/2012,93\n\
22/05/2012,2\n\
24/05/2012,551\n\
25/05/2012,494\n\
27/05/2012,4\n\
29/05/2012,408\n\
30/05/2012,1019\n\
31/05/2012,615\n\
01/06/2012,1064\n\
03/06/2012,973\n\
04/06/2012,2970\n\
15/06/2012,219\n\
19/06/2012,957\n\
20/06/2012,703\n\
21/06/2012,203\n\
23/06/2012,202\n\
24/06/2012,3722\n\
25/06/2012,1123\n\
30/06/2012,1148\n\
15/07/2012,1154\n\
19/07/2012,11822\n\
20/07/2012,9815\n\
02/08/2012,435\n\
03/08/2012,524\n\
10/08/2012,278\n\
12/08/2012,1604\n\
13/08/2012,932\n\
17/08/2012,9577\n\
18/08/2012,143\n\
20/08/2012,2136\n\
21/08/2012,5896\n\
22/08/2012,162\n\
27/08/2012,618\n\
06/09/2012,14637\n\
08/09/2012,2954\n\
12/09/2012,3\n\
13/09/2012,5735\n\
14/09/2012,795\n\
17/09/2012,829\n\
19/09/2012,185\n\
20/09/2012,2441\n\
21/09/2012,845\n\
22/09/2012,38882\n\
23/09/2012,1369\n\
24/09/2012,445\n\
26/09/2012,77\n\
27/09/2012,159\n\
28/09/2012,15556\n\
29/09/2012,1846\n\
01/10/2012,985\n\
04/10/2012,51389\n\
05/10/2012,145\n\
11/10/2012,113\n\
15/10/2012,1493\n\
16/10/2012,2006\n\
21/10/2012,73680\n\
24/10/2012,2158\n\
07/11/2012,810\n\
10/11/2012,1253\n\
11/11/2012,208\n\
12/11/2012,4119\n\
13/11/2012,1746\n\
14/11/2012,2515\n\
15/11/2012,3475\n\
16/11/2012,2062\n\
17/11/2012,2702\n\
18/11/2012,2108\n\
19/11/2012,21809\n\
20/11/2012,4546\n\
23/11/2012,97\n\
03/12/2012,0\n\
04/12/2012,1372\n\
05/12/2012,2566\n\
06/12/2012,1196\n\
09/12/2012,1880\n\
10/12/2012,26782\n\
11/12/2012,393\n\
12/12/2012,522\n\
18/12/2012,278\n\
22/12/2012,29688\n\
23/12/2012,4825\n\
24/12/2012,111\n\
28/12/2012,1\n\
03/01/2013,393\n\
04/01/2013,417\n\
05/01/2013,290\n\
07/01/2013,14492\n\
08/01/2013,1802\n\
09/01/2013,109\n\
12/01/2013,3248\n\
13/01/2013,12419\n\
15/01/2013,3534\n\
16/01/2013,4337\n\
17/01/2013,5240\n\
18/01/2013,5427\n\
28/01/2013,4886\n\
31/01/2013,48\n\
05/02/2013,29374\n\
06/02/2013,5511\n\
09/02/2013,2011\n\
12/02/2013,558\n\
15/02/2013,104\n\
17/02/2013,361\n\
19/02/2013,201\n\
03/03/2013,3543\n\
06/03/2013,21701\n\
07/03/2013,402\n\
10/03/2013,2918\n\
11/03/2013,5605\n\
13/03/2013,3243\n\
14/03/2013,2090\n\
16/03/2013,11007\n\
17/03/2013,10725\n\
18/03/2013,0\n\
19/03/2013,373\n\
22/03/2013,1103\n\
31/03/2013,2969\n\
01/04/2013,3490\n\
06/04/2013,153\n\
07/04/2013,858\n\
08/05/2013,2309\n\
09/05/2013,84\n\
"];
var projectName = "junit";

drawChangeSizeChart("changes-size-view", rawData, projectName);

function drawChangeSizeChart(elementId, rawData, projectName) {
    var margin = {top: 20, right: 20, bottom: 100, left: 40},
            margin2 = {top: 430, right: 20, bottom: 15, left: 40},
            width = 800 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom,
            height2 = 500 - margin2.top - margin2.bottom;

    var dateFormat = d3.time.format("%d/%m/%Y");
    var valueFormat = function(n) {
        var s = d3.format(",")(n);
        return s.length < 6 ? s : d3.format("s")(n);
    };

    var x = d3.time.scale().nice().rangeRound([0, width]);
    var x2 = d3.time.scale().nice().rangeRound([0, width]);
    var y = d3.scale.linear().range([height, 0]);
    var y2 = d3.scale.linear().range([height2, 0]);
    var xAxis = d3.svg.axis().scale(x).orient("bottom");
    var yAxis = d3.svg.axis().scale(y).orient("left").tickFormat(valueFormat);
    var xAxisLabel = "Date";
    var yAxisLabel = "Change size";
    var showOneMonthMean = false;

    var brush = d3.svg.brush().x(x2).on("brush", onBrush);

    var rootElement = d3.select("#" + elementId);

    var headerSpan = appendBlockElementTo(rootElement, width);

    var svg = rootElement.append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom);
    var svgPos = svg[0][0].getBoundingClientRect();
    svg.append("defs").append("clipPath").attr("id", "chartClip")
            .append("rect").attr("width", width).attr("height", height);
    svg.append("defs").append("clipPath").attr("id", "brushClip")
            .append("rect").attr("width", width).attr("height", height2);

    var rawDataIndex = 0;
    var daysData = parseRawData(rawData[rawDataIndex], dateFormat);

    var timeInterval = d3.time.day;
    var data = aggregate(daysData, timeInterval);
    var meanData = [];

    var fromDate = data[0].date;
    var toDate = data[data.length - 1].date;
    x.domain([fromDate, timeInterval.offset(toDate, 1)]);
    y.domain([0, d3.max(data, function(d) { return d.changeSize; })]);
    x2.domain(x.domain());
    y2.domain(y.domain());
    var barWidth = barWidthFor(timeInterval, fromDate, toDate);

    var meanLine = d3.svg.line()
            .x(function(d) { return x(d.date); })
            .y(function(d) { return y(d.mean); });

    var zoomedView = svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
    zoomedView.append("g")
            .attr("class", "x axis")
            .attr("transform", "translate(0," + height + ")")
            .call(xAxis);

    zoomedView.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end")
            .text(yAxisLabel);

    var brushFooter = svg.append("g")
            .attr("transform", "translate(" + margin2.left + "," + margin2.top + ")");

    var nothingToShowLabel = rootElement.append("div")
            .html("Unfortunately, there is nothing to show.")
            .style("position", "absolute")
            .style("top", function(){ return svgPos.top + (svgPos.height / 2) - (this.offsetHeight / 2) + "px"; })
            .style("left", function(){ return svgPos.left + (svgPos.width / 2) - (this.offsetWidth / 2) + "px"; })
            .style("opacity", 0);


    var footerSpan = appendBlockElementTo(rootElement, width).append("span").style({float: "right"});

    footerSpan.append("label").html("One month average: ");
    footerSpan.append("input").attr("type", "checkbox").on("click", function() {
        showOneMonthMean = !showOneMonthMean;
        updateChart();
    });
    footerSpan.append("span").style({width: "20px", display: "inline-block"});

    footerSpan.append("label").html("Group by: ");
    var groupByDropDown = footerSpan.append("select");
    groupByDropDown.append("option").attr("value", "day").html("days");
    groupByDropDown.append("option").attr("value", "monday").html("weeks");
    groupByDropDown.on("change", function() {
        timeInterval = d3.time[this.value];
        updateChart();
    });
    footerSpan.append("span").style({width: "20px", display: "inline-block"});

    footerSpan.append("label").html("Change size measured in: ");
    var dropDown = footerSpan.append("select");
    dropDown.append("option").attr("value", "0").html("commits");
    dropDown.append("option").attr("value", "1").html("lines");
    dropDown.append("option").attr("value", "2").html("characters");
    dropDown.on("change", function() {
        rawDataIndex = +this.value;
        daysData = parseRawData(rawData[rawDataIndex], dateFormat);
        updateChart();
    });

    var leftFooter = rootElement.append("span")
            .style("position", "absolute")
            .style("left", function(){ return margin.left + "px"; });
    leftFooter.append("span").style("color", "#999").html("Total size: ");
    var totalChangeSizeLabel = leftFooter
            .append("span").style("color", "#999")
            .append("label").html("");


    updateChart();


    function updateChart() {
        data = aggregate(daysData, timeInterval);
        meanData = calculateMonthlyMean(data);

        x.domain([fromDate, timeInterval.offset(toDate, 1)]);
        y.domain([0, d3.max(data, function(d) { return d.changeSize; })]);
        x2.domain(x.domain());
        y2.domain(y.domain());

        barWidth = barWidthFor(timeInterval, fromDate, toDate);

        showDataOn(zoomedView);
        showBrushOn(brushFooter);

        zoomedView.select(".y.axis").call(yAxis);

        nothingToShowLabel.style("opacity", data.length > 0 ? 0 : 1);

        onBrush();
    }

    function showBrushOn(element) {
        element.selectAll("g").remove();
        element.append("g")
                .selectAll(".bar2")
                .data(data)
                .enter().append("rect")
                .attr("class", "bar")
                .attr("clip-path", "url(#brushClip)")
                .attr("x", function(d) { return x2(d.date); })
                .attr("width", barWidth)
                .attr("y", function(d) { return y2(d.changeSize); })
                .attr("height", function(d) { return height2 - y2(d.changeSize); })
                .append("title");
        element.append("g")
                .attr("class", "x brush")
                .call(brush)
                .selectAll("rect")
                .attr("y", -6)
                .attr("height", height2 + 7);
    }

    function showDataOn(element) {
        element.selectAll(".bar").remove();
        element.selectAll(".bar")
                .data(data)
                .enter().append("rect")
                .attr("class", "bar")
                .attr("clip-path", "url(#chartClip)")
                .attr("x", function(d) { return x(d.date); })
                .attr("width", barWidth)
                .attr("y", function(d) { return y(d.changeSize); })
                .attr("height", function(d) { return height - y(d.changeSize); })
                .append("title")
                .text(function(d) {
                    var dateAsString;
                    if (timeInterval == d3.time.day) {
                        dateAsString = dateFormat(d.date);
                    } else {
                        dateAsString = dateFormat(d.date) + " to " + dateFormat(timeInterval.offset(d.date, 1));
                    }
                    return xAxisLabel + ": " + dateAsString + "\n" +
                            yAxisLabel + ": " + valueFormat(d.changeSize);
                });
    }

    function onBrush() {
        var domain = brush.empty() ? x2.domain() : brush.extent();
        x.domain(domain);
        barWidth = barWidthFor(timeInterval, domain[0], domain[1]);
        zoomedView.selectAll(".bar")
                .data(data)
                .attr("x", function(d) { return x(d.date); })
                .attr("width", barWidth);

        zoomedView.selectAll(".line").remove();
        if (showOneMonthMean) {
            zoomedView.append("path")
                    .datum(meanData)
                    .attr("class", "line")
                    .attr("clip-path", "url(#chartClip)")
                    .attr("d", meanLine);
            zoomedView.select(".x.axis").call(xAxis);
        }

        var formatChangeSize = (function(n) {
            var s = d3.format(",")(n);
            return s.length < 3 ? s : d3.format(".3s")(n);
        });
        totalChangeSizeLabel.html(formatChangeSize(amountOfCommitsWithin(domain, data)));
    }

    function barWidthFor(timeInterval, fromDate, toDate) {
        var barWidth = width / nonZero(timeInterval.range(fromDate, toDate).length);
        barWidth = Math.floor(barWidth);
        return barWidth < 1 ? 1 : barWidth;
    }

    function parseRawData(rawData, dateFormat) {
        return d3.csv.parse(rawData).map(function(d) { return {
            date: dateFormat.parse(d.date),
            changeSize: parseInt(d.changeSize)};
        });
    }

    function amountOfCommitsWithin(domain, data) {
        var withinDomain = function(d) { return d.date > domain[0] && d.date < domain[1]; };
        var changeSize = function(d) { return d.changeSize; };
        return d3.sum(data.filter(withinDomain), changeSize);
    }

    function aggregate(daysData, timeInterval) {
        if (timeInterval == d3.time.day) return daysData;
        return d3.values(d3.nest()
                        .key(function(d) { return timeInterval.floor(d.date); })
                        .rollup(function(days) {
                            var totalChangeSize = d3.sum(days, function (d) { return d.changeSize; });
                            var date = (days.length == 0 ? null : timeInterval.floor(days[0].date));
                            return {date: date, changeSize: totalChangeSize };
                        })
                        .map(daysData)).filter(function (d) {
                    return d.changeSize > 0;
                });
    }

    function nonZero(length) {
        return (length > 0 ? length : 0.0000001);
    }

    function appendBlockElementTo(element, width) {
        return element.append("span").style({display: "block", width: width + "px"});
    }

    function calculateMonthlyMean(data) {
        var period = 30;
        var result = [];
        var datesRange = d3.time.day.range(data[0].date, data[data.length - 1].date);
        var changeSize = changeSizeByDay(data, datesRange);

        var mean = d3.mean(datesRange.slice(0, period - 1), function(date){ return changeSize[date]; });

        for (var i = period; i < datesRange.length; i++) {
            var date = datesRange[i];
            var dateToExclude = datesRange[i - period];
            mean += (changeSize[date] - changeSize[dateToExclude]) / period;
            result.push({date: date, mean: mean});
        }

        return result;
    }

    function changeSizeByDay(data, datesRange) {
        var result = {};
        datesRange.forEach(function(date) { result[date] = 0; });
        data.forEach(function(d) { result[d.date] = d.changeSize; });
        return result;
    }
}
</script>

<script>

const graph = {
    "nodes": [{"name": "/build.xml", "group": 1},
        {"name": "/src/main/java/junit/runner/Version.java", "group": 1},
        {"name": "/src/main/java/org/junit/runners/BlockJUnit4ClassRunner.java", "group": 1},
        {"name": "/src/main/java/org/junit/runners/ParentRunner.java", "group": 1},
        {"name": "/src/main/java/org/junit/experimental/max/MaxCore.java", "group": 1},
        {"name": "/src/main/java/org/junit/experimental/max/MaxHistory.java", "group": 1},
        {"name": "/src/main/java/org/junit/runners/Suite.java", "group": 1},
        {"name": "/src/main/java/org/junit/runner/notification/RunListener.java", "group": 1},
        {"name": "/src/main/java/org/junit/runner/notification/RunNotifier.java", "group": 1},
        {"name": "/src/main/java/org/junit/runner/Description.java", "group": 1},
        {"name": "/src/main/java/org/junit/runner/JUnitCore.java", "group": 1},
        {"name": "/src/main/java/org/junit/runner/Request.java", "group": 1},
        {"name": "/doc/ReleaseNotes4.9.html", "group": 1},
        {"name": "/doc/ReleaseNotes4.9.txt", "group": 1},
        {"name": "/README.html", "group": 1},
        {"name": "/src/main/java/org/junit/runners/Parameterized.java", "group": 1},
        {"name": "/src/main/java/org/junit/experimental/theories/internal/AllMembersSupplier.java", "group": 1},
        {"name": "/src/main/java/org/junit/experimental/theories/internal/Assignments.java", "group": 1},
        {"name": "/src/main/java/org/junit/ClassRule.java", "group": 1},
        {"name": "/src/main/java/org/junit/Rule.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/experimental/AssumptionTest.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/experimental/AssumptionViolatedExceptionTest.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/experimental/max/MaxStarterTest.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/experimental/parallel/ParallelClassTest.java", "group": 1},
        {"name": "/src/main/java/org/junit/experimental/theories/Theories.java", "group": 1},
        {"name": "/src/main/java/org/junit/rules/Timeout.java", "group": 1},
        {"name": "/src/main/java/org/junit/rules/Verifier.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/experimental/theories/runner/WhenNoParametersMatch.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/experimental/theories/runner/WithDataPointMethod.java", "group": 1},
        {"name": "/src/test/java/org/junit/tests/AllTests.java", "group": 1},
        {"name": "/src/org/junit/experimental/theories/Theories.java", "group": 1},
        {"name": "/src/org/junit/internal/runners/JUnit4ClassRunner.java", "group": 1},
        {"name": "/src/org/junit/runners/Parameterized.java", "group": 1},
        {"name": "/src/org/junit/runners/Suite.java", "group": 1},
        {"name": "/junit/framework/TestSuite.java", "group": 1},
        {"name": "/junit/runner/BaseTestRunner.java", "group": 1}],
    "links": [{"source": 0, "target": 1, "value": 22},
        {"source": 2, "target": 3, "value": 21},
        {"source": 4, "target": 5, "value": 15},
        {"source": 3, "target": 6, "value": 15},
        {"source": 7, "target": 8, "value": 12},
        {"source": 9, "target": 10, "value": 12},
        {"source": 10, "target": 11, "value": 11},
        {"source": 12, "target": 13, "value": 11},
        {"source": 14, "target": 0, "value": 11},
        {"source": 2, "target": 15, "value": 10},
        {"source": 16, "target": 17, "value": 9},
        {"source": 18, "target": 19, "value": 9},
        {"source": 20, "target": 21, "value": 9},
        {"source": 22, "target": 23, "value": 9},
        {"source": 24, "target": 16, "value": 8},
        {"source": 25, "target": 26, "value": 8},
        {"source": 27, "target": 28, "value": 8},
        {"source": 2, "target": 29, "value": 8},
        {"source": 15, "target": 6, "value": 8},
        {"source": 30, "target": 31, "value": 8},
        {"source": 32, "target": 33, "value": 8},
        {"source": 34, "target": 35, "value": 8}]
};
var projectName = "junit";
var graphName = "Files in the same commit";


createForcesGraphOn("files-in-same-commit-graph", graph, projectName);

function createForcesGraphOn(elementId, graph, projectName) {
    function QuickFind(size) {
        this.size = size;
        this.connections = new Array(size);
        for (var i = 0; i < this.connections.length; i++) {
            this.connections[i] = i;
        }
    }
    QuickFind.prototype.connect = function(p1, p2) {
        var p1Root = this.rootOf(this.connections[p1]);
        var p2Root = this.rootOf(this.connections[p2]);
        for (var i = 0; i < this.connections.length; i++) {
            if (this.connections[i] == p1Root) this.connections[i] = p2Root;
        }
    };
    QuickFind.prototype.rootOf = function(p) { return this.connections[p] == p ? p : this.rootOf(this.connections[p]); };
    QuickFind.prototype.areConnected = function(p1, p2) { return this.connections[p1] == this.connections[p2]; };
    function createQuickFindIndex(graph) {
        var quickFind = new QuickFind(graph.nodes.length);
        graph.links.forEach(function (link) {
            quickFind.connect(graph.nodes.indexOf(link.source), graph.nodes.indexOf(link.target));
        });
        return quickFind;
    }

    function GraphEditor(graph) {
        this.graph = graph;
        this.deletions = [];
        this.quickFind = createQuickFindIndex(graph);
    }
    GraphEditor.prototype.deleteLinks = function(linksToRemove) {
        this.deletions.push({links: linksToRemove});
        this.graph.links = this.graph.links.filter(function(link) { return linksToRemove.indexOf(link) == -1; });

        this.quickFind = createQuickFindIndex(this.graph);
    };
    GraphEditor.prototype.deleteNodes = function(nodes) {
        for (var i = 0; i < nodes.length; i++) {
            this.delete(nodes[i]);
        }
        this.quickFind = createQuickFindIndex(this.graph);
    };
    GraphEditor.prototype.delete = function(nodeToRemove) {
        var nodeIndex = this.graph.nodes.indexOf(nodeToRemove);
        var linksToRemove = this.graph.links.filter(function(link) { return link.source == nodeToRemove || link.target == nodeToRemove; });

        this.deletions.push({nodeIndex: nodeIndex, node: nodeToRemove, links: linksToRemove});

        this.graph.nodes = this.graph.nodes.filter(function(node) { return node != nodeToRemove; });
        this.graph.links = this.graph.links.filter(function(link) { return linksToRemove.indexOf(link) == -1; });
    };
    GraphEditor.prototype.undoAllDeletions = function () {
        while (this.deletions.length > 0) {
            var deletion = this.deletions.pop();

            if (deletion.node != null) {
                this.graph.nodes = this.graph.nodes.concat([deletion.node]);
                deletion.node.index = this.graph.nodes.length - 1;
            }

            this.graph.links = this.graph.links.concat(deletion.links);
        }
        this.quickFind = createQuickFindIndex(this.graph);
    };
    GraphEditor.prototype.nodesConnectedTo = function(node) {
        var quickFind = this.quickFind;
        return this.graph.nodes.filter(function(eachNode) {
            return quickFind.areConnected(eachNode.index, node.index);
        });
    };
    GraphEditor.prototype.immediateConnectionsOf = function(node) {
        var result = this.graph.links.map(function(link) {
            if (link.source == node) return link.target;
            else if (link.target == node) return link.source;
            else return null;
        }).filter(function(it) { return it != null; });
        result.push(node);
        return result;
    };

    var width = 800,
        height = 700;

    var color = d3.scale.category20();
    var showLongFileNames = false;
    var gravity = -120;
    var minClusterSize = 2;
    var linkValuesExtent = d3.extent(graph.links, function (link) { return link.value; })
    var minLinkStrength = linkValuesExtent[0];
    var force = createForce(gravity);

    var rootElement = d3.select("#" + elementId);

    var header = appendBlockElementTo(rootElement, width);

    var svg = rootElement.append("svg").attr("width", width).attr("height", height);
    var svgLinks = svg.append("g");
    var svgNodes = svg.append("g");
    var svgPos = svg[0][0].getBoundingClientRect();

    svg.append("rect")
            .attr("width", width).attr("height", height)
            .style({fill: "none", stroke: "#AAAAAA"});

    force.nodes(graph.nodes).links(graph.links).start();
    var graphEditor = new GraphEditor(graph);


    var tooltip = rootElement.append("div")
            .attr("class", "tooltip")
            .style("opacity", 0);
    var selectedNodesLabel = rootElement.append("div")
            .attr("class", "selectedNodesLabel")
            .style("position", "absolute")
            .style("opacity", 0);
    var selectedNodesLabel2 = rootElement.append("div")
            .attr("class", "selectedNodesLabel")
            .style("position", "absolute")
            .style("opacity", 0);
    if (graph.nodes.length == 0)
        rootElement.append("div")
                .attr("class", "tooltip")
                .html("Unfortunately, there is nothing to show.")
                .style("position", "absolute")
                .style("top", function (){ return svgPos.top + (svgPos.height / 2) - (this.offsetHeight / 2) + "px"; })
                .style("left", function (){ return svgPos.left + (svgPos.width / 2) - (this.offsetWidth / 2) + "px"; });

    var handledByNode = false;
    var onMouseOverNode = function (d) {
        tooltip.html(showLongFileNames ? d.name : dropPath(d.name))
                .style("opacity", .9)
                .style("position", "absolute")
                .style("left", svgPos.left + parseInt(d.x + 18) + "px")
                .style("top", svgPos.top + parseInt(d.y - 12) + "px");
    };
    var onMouseOutOfNode = function() {
        tooltip.style("opacity", .0);
    };
    var whenClickedOnNode = function (node) {
        var shouldRemoveNode = d3.event.altKey && !d3.event.shiftKey;
        var shouldRemoveNodeCluster = d3.event.altKey && d3.event.shiftKey;

        if (shouldRemoveNode) {
            updateSelection([], showLongFileNames);
            tooltip.style("opacity", .0);

            graphEditor.deleteNodes([node]);

            linkElements = updateLinks(svgLinks, graph);
            nodeElements = updateNodes(svgNodes, force, graph, onMouseOverNode, onMouseOutOfNode, whenClickedOnNode);
            force.nodes(graph.nodes).links(graph.links).start();

        } else if (shouldRemoveNodeCluster) {
            updateSelection([], showLongFileNames);
            tooltip.style("opacity", .0);

            graphEditor.deleteNodes(graphEditor.nodesConnectedTo(node));

            linkElements = updateLinks(svgLinks, graph);
            nodeElements = updateNodes(svgNodes, force, graph, onMouseOverNode, onMouseOutOfNode, whenClickedOnNode);
            force.nodes(graph.nodes).links(graph.links).start();
        } else {
            updateSelection(graphEditor.nodesConnectedTo(node), showLongFileNames);
        }

        handledByNode = true;
    };
    var linkElements = updateLinks(svgLinks, graph);
    var nodeElements = updateNodes(svgNodes, force, graph, onMouseOverNode, onMouseOutOfNode, whenClickedOnNode);


    svg.on("click", function () {
        if (handledByNode) {
            handledByNode = false;
            return;
        }
        updateSelection([], showLongFileNames);
    });

    var onForceTick = function () {
        linkElements
                .attr("x1", function(d) { return d.source.x; })
                .attr("y1", function(d) { return d.source.y; })
                .attr("x2", function(d) { return d.target.x; })
                .attr("y2", function(d) { return d.target.y; });
        nodeElements
                .attr("cx", function(d) { return d.x; })
                .attr("cy", function(d) { return d.y; });
    };
    force.on("tick", onForceTick);


    var footerSpan = appendBlockElementTo(rootElement, width);
    var span = footerSpan.append("span").style({float: "right"});
    span.append("label").html("Show file path:");
    span.append("input").attr("type", "checkbox")
            .on("click", function() { showLongFileNames = !showLongFileNames; });
    span.call(addDelimiter);

    span.append("label").html("Gravity: ");
    var gravityDropDown = span.append("select");
    gravityDropDown.append("option").attr("value", "high").html("High");
    gravityDropDown.append("option").attr("value", "medium").attr("selected", "true").html("Medium");
    gravityDropDown.append("option").attr("value", "low").html("Low");

    gravityDropDown.on("change", function () {
        if (this.value == "high") gravity = -50;
        else if (this.value == "medium") gravity = -120;
        else if (this.value == "low") gravity = -320;

        force = createForce(gravity);
        force.on("tick", onForceTick);
        force.nodes(graph.nodes).links(graph.links).start();
        svg.selectAll(".node").call(force.drag);
    });
    span.call(addDelimiter);

    span.append("label").html("Min cluster size: ");
    var clusterSizeDropDown = span.append("select");
    d3.range(2, 11).forEach(function (i) {
        clusterSizeDropDown.append("option").attr("value", i).html(i);
    });
    clusterSizeDropDown.on("change", function () {
        minClusterSize = +this.value;
        filterNodes();
    });
    span.call(addDelimiter);

    span.append("label").html("Min link strength: ");
    var linkStrengthDropDown = span.append("select");
    d3.range(linkValuesExtent[0], linkValuesExtent[1]).forEach(function (i) {
        linkStrengthDropDown.append("option").attr("value", i).html(i);
    });
    linkStrengthDropDown.on("change", function() {
        minLinkStrength = +this.value;
        filterNodes();
    });


    var subFooterSpan = appendBlockElementTo(rootElement, width);
    subFooterSpan.append("span").style({float: "left"})
            .append("div").style("color", "#999")
            .html("alt+click or alt+shift+click to remove node or group of nodes");


    function createForce(gravity) {
        return d3.layout.force().charge(gravity).linkDistance(30).size([width, height]);
    }

    function updateNodes(svg, force, graph, onMouseOverNode, onMouseOutOfNode, whenClickedOnNode) {
        svg.selectAll(".node")
                .data(graph.nodes, byNodeName)
                .enter().append("circle")
                .attr("class", "node")
                .attr("r", function(d){ return d.selected ? 7 : 5; })
                .style("fill", function (d) { return color(d.group); })
                .call(force.drag)
                .on("mouseover", onMouseOverNode)
                .on("mouseout", onMouseOutOfNode)
                .on("click", whenClickedOnNode);
        svg.selectAll(".node")
                .data(graph.nodes, byNodeName)
                .exit().remove();
        return svg.selectAll(".node");
    }

    function updateLinks(svg, graph) {
        svg.selectAll(".link")
                .data(graph.links, byLinkState)
                .enter().append("line")
                .attr("class", "link")
                .style("stroke-width", function (d) { return Math.sqrt(d.value); });
        svg.selectAll(".link")
                .data(graph.links, byLinkState)
                .exit().remove();
        return svg.selectAll(".link");
    }

    function filterNodes() {
        updateSelection([], showLongFileNames);
        tooltip.style("opacity", .0);

        graphEditor.undoAllDeletions();
        graphEditor.deleteLinks(linksWithStrengthLessThan(minLinkStrength, graph));
        graphEditor.deleteNodes(nodesInClustersSmallerThan(minClusterSize, graph, graphEditor));

        linkElements = updateLinks(svgLinks, graph);
        nodeElements = updateNodes(svgNodes, force, graph, onMouseOverNode, onMouseOutOfNode, whenClickedOnNode);
        force.nodes(graph.nodes).links(graph.links).start();
    }

    function linksWithStrengthLessThan(minLinkStrength, graph) {
        return graph.links.filter(function (link) { return link.value < minLinkStrength; })
    }

    function nodesInClustersSmallerThan(maxClusterSize, graph, graphEditor) {
        var visitedNodes = [];
        var nodes = [];
        graph.nodes.forEach(function (node) {
            if (visitedNodes.indexOf(node) >= 0) return;

            var connectedNodes = graphEditor.nodesConnectedTo(node);
            if (connectedNodes.length < maxClusterSize) {
                nodes = nodes.concat(connectedNodes);
            }
            visitedNodes = visitedNodes.concat(connectedNodes);
        });
        return nodes;
    }

    function updateSelection(selectedNodes, showLongFileNames) {
        graph.nodes.forEach(function (eachNode) { eachNode.selected = false; });
        selectedNodes.forEach(function (eachNode) { eachNode.selected = true; });
        nodeElements.data(graph.nodes, byNodeName).attr("r", function(d){ return d.selected ? 7 : 5; });

        var nodesByGroup = d3.nest().key(function (node) { return node.group; }).map(selectedNodes);
        if (nodesByGroup[1] == null) nodesByGroup[1] = [];
        if (nodesByGroup[2] == null) nodesByGroup[2] = [];

        selectedNodesLabel
                .style("left", svgPos.left + 3 + "px")
                .style("top", svgPos.top + 3 + "px")
                .html(nodesByGroup[1].map(function (d) { return showLongFileNames ? d.name : dropPath(d.name); }).sort().join("<br/>"))
                .style("opacity", (nodesByGroup[1].length > 0 ? 1 : 0));
        var pos = selectedNodesLabel[0][0].getBoundingClientRect();
        selectedNodesLabel2
                .style("left", svgPos.left + 3 + "px")
                .style("top", pos.top + pos.height + 3 + "px")
                .html(nodesByGroup[2].map(function (d) { return showLongFileNames ? d.name : dropPath(d.name); }).sort().join("<br/>"))
                .style("opacity", (nodesByGroup[2].length > 0 ? 1 : 0));
    }

    function dropPath(fileName) {
        var i = fileName.lastIndexOf("/");
        return (i == -1) ? fileName : fileName.substring(i + 1)
    }

    function appendBlockElementTo(element, width) {
        return element.append("span").style({display: "block", width: width + "px"});
    }

    function addDelimiter(span) {
        span.append("span").style({width: "20px", display: "inline-block"});
    }

    function byNodeName(node) { return node.name; }
    function byLinkState(link) { return "" + link.source.index + "-" + link.target.index; }
}

</script>
</body>
</html>
